{"ast":null,"code":"/**\n * @welldone-software/why-did-you-render 6.2.0\n * MIT Licensed\n * Generated by Vitali Zaidman <vzaidman@gmail.com> (https://github.com/vzaidman)\n * Generated at 2021-06-13\n */\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('react'), require('lodash')) : typeof define === 'function' && define.amd ? define(['react', 'lodash'], factory) : (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.whyDidYouRender = factory(global.react, global.lodash));\n})(this, function (React, lodash) {\n  'use strict';\n\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = Object.create(null);\n\n    if (e) {\n      Object.keys(e).forEach(function (k) {\n        if (k !== 'default') {\n          var d = Object.getOwnPropertyDescriptor(e, k);\n          Object.defineProperty(n, k, d.get ? d : {\n            enumerable: true,\n            get: function () {\n              return e[k];\n            }\n          });\n        }\n      });\n    }\n\n    n['default'] = e;\n    return Object.freeze(n);\n  }\n\n  var React__namespace = /*#__PURE__*/_interopNamespace(React);\n\n  var wdyrStore = {\n    /* The React object we patch */\n    React: undefined,\n\n    /* Processed user options for WDYR */\n    options: undefined,\n\n    /* The original React.createElement function */\n    origCreateElement: undefined,\n\n    /* The original React.createFactory function */\n    origCreateFactory: undefined,\n\n    /* The original React.cloneElement function */\n    origCloneElement: undefined,\n\n    /* A weak map of all React elements to their WDYR patched react elements */\n    componentsMap: new WeakMap(),\n\n    /* A weak map of props to the owner element that passed them */\n    ownerDataMap: new WeakMap(),\n\n    /* An array of hooks tracked during one render */\n    hooksPerRender: []\n  };\n\n  function ownKeys(object, enumerableOnly) {\n    var keys = Object.keys(object);\n\n    if (Object.getOwnPropertySymbols) {\n      var symbols = Object.getOwnPropertySymbols(object);\n\n      if (enumerableOnly) {\n        symbols = symbols.filter(function (sym) {\n          return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n        });\n      }\n\n      keys.push.apply(keys, symbols);\n    }\n\n    return keys;\n  }\n\n  function _objectSpread2(target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i] != null ? arguments[i] : {};\n\n      if (i % 2) {\n        ownKeys(Object(source), true).forEach(function (key) {\n          _defineProperty(target, key, source[key]);\n        });\n      } else if (Object.getOwnPropertyDescriptors) {\n        Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n      } else {\n        ownKeys(Object(source)).forEach(function (key) {\n          Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n        });\n      }\n    }\n\n    return target;\n  }\n\n  function _typeof(obj) {\n    \"@babel/helpers - typeof\";\n\n    if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n      _typeof = function (obj) {\n        return typeof obj;\n      };\n    } else {\n      _typeof = function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n    }\n\n    return _typeof(obj);\n  }\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  function _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n  }\n\n  function _defineProperty(obj, key, value) {\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n\n    return obj;\n  }\n\n  function _inherits(subClass, superClass) {\n    if (typeof superClass !== \"function\" && superClass !== null) {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        writable: true,\n        configurable: true\n      }\n    });\n    if (superClass) _setPrototypeOf(subClass, superClass);\n  }\n\n  function _getPrototypeOf(o) {\n    _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n      return o.__proto__ || Object.getPrototypeOf(o);\n    };\n    return _getPrototypeOf(o);\n  }\n\n  function _setPrototypeOf(o, p) {\n    _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n      o.__proto__ = p;\n      return o;\n    };\n\n    return _setPrototypeOf(o, p);\n  }\n\n  function _isNativeReflectConstruct() {\n    if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n    if (Reflect.construct.sham) return false;\n    if (typeof Proxy === \"function\") return true;\n\n    try {\n      Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n\n  function _assertThisInitialized(self) {\n    if (self === void 0) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return self;\n  }\n\n  function _possibleConstructorReturn(self, call) {\n    if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n      return call;\n    }\n\n    return _assertThisInitialized(self);\n  }\n\n  function _createSuper(Derived) {\n    var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n    return function _createSuperInternal() {\n      var Super = _getPrototypeOf(Derived),\n          result;\n\n      if (hasNativeReflectConstruct) {\n        var NewTarget = _getPrototypeOf(this).constructor;\n\n        result = Reflect.construct(Super, arguments, NewTarget);\n      } else {\n        result = Super.apply(this, arguments);\n      }\n\n      return _possibleConstructorReturn(this, result);\n    };\n  }\n\n  function _superPropBase(object, property) {\n    while (!Object.prototype.hasOwnProperty.call(object, property)) {\n      object = _getPrototypeOf(object);\n      if (object === null) break;\n    }\n\n    return object;\n  }\n\n  function _get(target, property, receiver) {\n    if (typeof Reflect !== \"undefined\" && Reflect.get) {\n      _get = Reflect.get;\n    } else {\n      _get = function _get(target, property, receiver) {\n        var base = _superPropBase(target, property);\n\n        if (!base) return;\n        var desc = Object.getOwnPropertyDescriptor(base, property);\n\n        if (desc.get) {\n          return desc.get.call(receiver);\n        }\n\n        return desc.value;\n      };\n    }\n\n    return _get(target, property, receiver || target);\n  }\n\n  function _slicedToArray(arr, i) {\n    return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n  }\n\n  function _toConsumableArray(arr) {\n    return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n  }\n\n  function _arrayWithoutHoles(arr) {\n    if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n  }\n\n  function _arrayWithHoles(arr) {\n    if (Array.isArray(arr)) return arr;\n  }\n\n  function _iterableToArray(iter) {\n    if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n  }\n\n  function _iterableToArrayLimit(arr, i) {\n    var _i = arr && (typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]);\n\n    if (_i == null) return;\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n\n    var _s, _e;\n\n    try {\n      for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  function _unsupportedIterableToArray(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(o);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n  }\n\n  function _arrayLikeToArray(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n\n    for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n    return arr2;\n  }\n\n  function _nonIterableSpread() {\n    throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  function _nonIterableRest() {\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  function _createForOfIteratorHelper(o, allowArrayLike) {\n    var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n\n    if (!it) {\n      if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n        if (it) o = it;\n        var i = 0;\n\n        var F = function () {};\n\n        return {\n          s: F,\n          n: function () {\n            if (i >= o.length) return {\n              done: true\n            };\n            return {\n              done: false,\n              value: o[i++]\n            };\n          },\n          e: function (e) {\n            throw e;\n          },\n          f: F\n        };\n      }\n\n      throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n    }\n\n    var normalCompletion = true,\n        didErr = false,\n        err;\n    return {\n      s: function () {\n        it = it.call(o);\n      },\n      n: function () {\n        var step = it.next();\n        normalCompletion = step.done;\n        return step;\n      },\n      e: function (e) {\n        didErr = true;\n        err = e;\n      },\n      f: function () {\n        try {\n          if (!normalCompletion && it.return != null) it.return();\n        } finally {\n          if (didErr) throw err;\n        }\n      }\n    };\n  }\n\n  var _diffTypesDescription;\n\n  var diffTypes = {\n    'different': 'different',\n    'deepEquals': 'deepEquals',\n    'date': 'date',\n    'regex': 'regex',\n    'reactElement': 'reactElement',\n    'function': 'function',\n    'same': 'same'\n  };\n  var diffTypesDescriptions = (_diffTypesDescription = {}, _defineProperty(_diffTypesDescription, diffTypes.different, 'different objects'), _defineProperty(_diffTypesDescription, diffTypes.deepEquals, 'different objects that are equal by value'), _defineProperty(_diffTypesDescription, diffTypes.date, 'different date objects with the same value'), _defineProperty(_diffTypesDescription, diffTypes.regex, 'different regular expressions with the same value'), _defineProperty(_diffTypesDescription, diffTypes.reactElement, 'different React elements (remember that the <jsx/> syntax always produces a *NEW* immutable React element so a component that receives <jsx/> as props always re-renders)'), _defineProperty(_diffTypesDescription, diffTypes[\"function\"], 'different functions with the same name'), _defineProperty(_diffTypesDescription, diffTypes.same, 'same objects by ref (===)'), _diffTypesDescription); // copied from packages/shared/ReactSymbols.js in https://github.com/facebook/react\n\n  var hasSymbol$1 = typeof Symbol === 'function' && Symbol[\"for\"];\n  var REACT_MEMO_TYPE = hasSymbol$1 ? Symbol[\"for\"]('react.memo') : 0xead3;\n  var REACT_FORWARD_REF_TYPE = hasSymbol$1 ? Symbol[\"for\"]('react.forward_ref') : 0xead0;\n  var hasElementType = typeof Element !== 'undefined'; // copied from https://github.com/facebook/react/packages/shared/ReactSymbols.js\n\n  var hasSymbol = typeof Symbol === 'function' && Symbol[\"for\"];\n  var REACT_ELEMENT_TYPE = hasSymbol ? Symbol[\"for\"]('react.element') : 0xeac7;\n\n  var isReactElement = function isReactElement(object) {\n    return object.$$typeof === REACT_ELEMENT_TYPE;\n  }; // end\n\n\n  function trackDiff(a, b, diffsAccumulator, pathString, diffType) {\n    diffsAccumulator.push({\n      diffType: diffType,\n      pathString: pathString,\n      prevValue: a,\n      nextValue: b\n    });\n    return diffType !== diffTypes.different;\n  }\n\n  function isGetter(obj, prop) {\n    return !!Object.getOwnPropertyDescriptor(obj, prop)['get'];\n  }\n\n  var dependenciesMap = new WeakMap();\n\n  function accumulateDeepEqualDiffs(a, b, diffsAccumulator) {\n    var pathString = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : '';\n\n    var _ref = arguments.length > 4 ? arguments[4] : undefined,\n        detailed = _ref.detailed;\n\n    if (a === b) {\n      if (detailed) {\n        trackDiff(a, b, diffsAccumulator, pathString, diffTypes.same);\n      }\n\n      return true;\n    }\n\n    if (!a || !b) {\n      return trackDiff(a, b, diffsAccumulator, pathString, diffTypes.different);\n    }\n\n    if (lodash.isArray(a) && lodash.isArray(b)) {\n      var arrayLength = a.length;\n\n      if (arrayLength !== b.length) {\n        return trackDiff(_toConsumableArray(a), _toConsumableArray(b), diffsAccumulator, pathString, diffTypes.different);\n      }\n\n      var arrayItemDiffs = [];\n      var numberOfDeepEqualsItems = 0;\n\n      for (var i = arrayLength; i--; i > 0) {\n        var diffEquals = accumulateDeepEqualDiffs(a[i], b[i], arrayItemDiffs, \"\".concat(pathString, \"[\").concat(i, \"]\"), {\n          detailed: detailed\n        });\n\n        if (diffEquals) {\n          numberOfDeepEqualsItems++;\n        }\n      }\n\n      if (detailed || numberOfDeepEqualsItems !== arrayLength) {\n        diffsAccumulator.push.apply(diffsAccumulator, arrayItemDiffs);\n      }\n\n      if (numberOfDeepEqualsItems === arrayLength) {\n        return trackDiff(_toConsumableArray(a), _toConsumableArray(b), diffsAccumulator, pathString, diffTypes.deepEquals);\n      }\n\n      return trackDiff(_toConsumableArray(a), _toConsumableArray(b), diffsAccumulator, pathString, diffTypes.different);\n    }\n\n    if (lodash.isSet(a) && lodash.isSet(b)) {\n      if (a.size !== b.size) {\n        return trackDiff(new Set(a), new Set(b), diffsAccumulator, pathString, diffTypes.different);\n      }\n\n      var _iterator = _createForOfIteratorHelper(a),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var valA = _step.value;\n\n          if (!b.has(valA)) {\n            return trackDiff(new Set(a), new Set(b), diffsAccumulator, pathString, diffTypes.different);\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      return trackDiff(new Set(a), new Set(b), diffsAccumulator, pathString, diffTypes.deepEquals);\n    }\n\n    if (lodash.isDate(a) && lodash.isDate(b)) {\n      return a.getTime() === b.getTime() ? trackDiff(new Date(a), new Date(b), diffsAccumulator, pathString, diffTypes.date) : trackDiff(new Date(a), new Date(b), diffsAccumulator, pathString, diffTypes.different);\n    }\n\n    if (lodash.isRegExp(a) && lodash.isRegExp(b)) {\n      return a.toString() === b.toString() ? trackDiff(a, b, diffsAccumulator, pathString, diffTypes.regex) : trackDiff(a, b, diffsAccumulator, pathString, diffTypes.different);\n    }\n\n    if (hasElementType && a instanceof Element && b instanceof Element) {\n      return trackDiff(a, b, diffsAccumulator, pathString, diffTypes.different);\n    }\n\n    if (isReactElement(a) && isReactElement(b)) {\n      if (a.type !== b.type) {\n        return trackDiff(a, b, diffsAccumulator, pathString, diffTypes.different);\n      }\n\n      var reactElementPropsAreDeepEqual = accumulateDeepEqualDiffs(a.props, b.props, [], \"\".concat(pathString, \".props\"), {\n        detailed: detailed\n      });\n      return reactElementPropsAreDeepEqual ? trackDiff(a, b, diffsAccumulator, pathString, diffTypes.reactElement) : trackDiff(a, b, diffsAccumulator, pathString, diffTypes.different);\n    }\n\n    if (lodash.isFunction(a) && lodash.isFunction(b)) {\n      if (a.name !== b.name) {\n        return trackDiff(a, b, diffsAccumulator, pathString, diffTypes.different);\n      }\n\n      var aDependenciesObj = dependenciesMap.get(a);\n      var bDependenciesObj = dependenciesMap.get(b);\n\n      if (aDependenciesObj && bDependenciesObj) {\n        var dependenciesAreDeepEqual = accumulateDeepEqualDiffs(aDependenciesObj.deps, bDependenciesObj.deps, diffsAccumulator, \"\".concat(pathString, \":parent-hook-\").concat(aDependenciesObj.hookName, \"-deps\"), {\n          detailed: detailed\n        });\n        return dependenciesAreDeepEqual ? trackDiff(a, b, diffsAccumulator, pathString, diffTypes[\"function\"]) : trackDiff(a, b, diffsAccumulator, pathString, diffTypes.different);\n      }\n\n      return trackDiff(a, b, diffsAccumulator, pathString, diffTypes[\"function\"]);\n    }\n\n    if (_typeof(a) === 'object' && _typeof(b) === 'object' && Object.getPrototypeOf(a) === Object.getPrototypeOf(b)) {\n      var aKeys = Object.getOwnPropertyNames(a);\n      var bKeys = Object.getOwnPropertyNames(b);\n      var allKeys = lodash.uniq([].concat(_toConsumableArray(aKeys), _toConsumableArray(bKeys)));\n      var clonedA = lodash.isPlainObject(a) ? _objectSpread2({}, a) : a;\n      var clonedB = lodash.isPlainObject(b) ? _objectSpread2({}, b) : b;\n\n      if (allKeys.length !== aKeys.length || allKeys.length !== bKeys.length) {\n        return trackDiff(clonedA, clonedB, diffsAccumulator, pathString, diffTypes.different);\n      }\n\n      var relevantKeys = allKeys.filter(function (key) {\n        // do not compare the stack as it differ even though the errors are identical.\n        if (key === 'stack' && lodash.isError(a)) {\n          return false;\n        } // getters checking is causing too much problems because of how it's used in js.\n        // not only getters can throw errors, they also cause side effects in many cases.\n\n\n        if (isGetter(a, key)) {\n          return false;\n        }\n\n        return true;\n      });\n      var keysLength = relevantKeys.length;\n\n      for (var _i = keysLength; _i--; _i > 0) {\n        if (!lodash.has(b, relevantKeys[_i])) {\n          return trackDiff(clonedA, clonedB, diffsAccumulator, pathString, diffTypes.different);\n        }\n      }\n\n      var objectValuesDiffs = [];\n      var numberOfDeepEqualsObjectValues = 0;\n\n      for (var _i2 = keysLength; _i2--; _i2 > 0) {\n        var key = relevantKeys[_i2];\n        var deepEquals = accumulateDeepEqualDiffs(a[key], b[key], objectValuesDiffs, \"\".concat(pathString, \".\").concat(key), {\n          detailed: detailed\n        });\n\n        if (deepEquals) {\n          numberOfDeepEqualsObjectValues++;\n        }\n      }\n\n      if (detailed || numberOfDeepEqualsObjectValues !== keysLength) {\n        diffsAccumulator.push.apply(diffsAccumulator, objectValuesDiffs);\n      }\n\n      if (numberOfDeepEqualsObjectValues === keysLength) {\n        return trackDiff(clonedA, clonedB, diffsAccumulator, pathString, diffTypes.deepEquals);\n      }\n\n      return trackDiff(clonedA, clonedB, diffsAccumulator, pathString, diffTypes.different);\n    }\n\n    return trackDiff(a, b, diffsAccumulator, pathString, diffTypes.different);\n  }\n\n  function calculateDeepEqualDiffs(a, b, initialPathString) {\n    var _ref2 = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {},\n        _ref2$detailed = _ref2.detailed,\n        detailed = _ref2$detailed === void 0 ? false : _ref2$detailed;\n\n    try {\n      var diffs = [];\n      accumulateDeepEqualDiffs(a, b, diffs, initialPathString, {\n        detailed: detailed\n      });\n      return diffs;\n    } catch (error) {\n      if (error.message && error.message.match(/stack|recursion/i) || error.number === -2146828260) {\n        // warn on circular references, don't crash.\n        // browsers throw different errors name and messages:\n        // chrome/safari: \"RangeError\", \"Maximum call stack size exceeded\"\n        // firefox: \"InternalError\", too much recursion\"\n        // edge: \"Error\", \"Out of stack space\"\n        // eslint-disable-next-line no-console\n        console.warn('Warning: why-did-you-render couldn\\'t handle circular references in props.', error.name, error.message);\n        return false;\n      }\n\n      throw error;\n    }\n  }\n\n  function printDiff(value1, value2, _ref) {\n    var pathString = _ref.pathString,\n        consoleLog = _ref.consoleLog;\n    var diffs = calculateDeepEqualDiffs(value1, value2, pathString, {\n      detailed: true\n    });\n    var keysLength = Math.max.apply(Math, _toConsumableArray(diffs.map(function (diff) {\n      return diff.pathString.length;\n    }))) + 2;\n    Object.entries(lodash.groupBy(lodash.sortBy(diffs, 'pathString'), 'diffType')).forEach(function (_ref2) {\n      var _ref3 = _slicedToArray(_ref2, 2),\n          diffType = _ref3[0],\n          diffs = _ref3[1];\n\n      consoleLog(\"%c\".concat(diffTypesDescriptions[diffType], \":\"), 'text-decoration: underline; color: blue;');\n      diffs.forEach(function (diff) {\n        consoleLog(\"\".concat(diff.pathString, \":\").padEnd(keysLength, ' '), diff.prevValue);\n      });\n    });\n  }\n\n  var moreInfoUrl = 'http://bit.ly/wdyr02';\n  var moreInfoHooksUrl = 'http://bit.ly/wdyr3';\n  var inHotReload = false;\n\n  function shouldLog(reason, Component) {\n    if (inHotReload) {\n      return false;\n    }\n\n    if (wdyrStore.options.logOnDifferentValues) {\n      return true;\n    }\n\n    if (Component.whyDidYouRender && Component.whyDidYouRender.logOnDifferentValues) {\n      return true;\n    }\n\n    var hasDifferentValues = reason.propsDifferences && reason.propsDifferences.some(function (diff) {\n      return diff.diffType === diffTypes.different;\n    }) || reason.stateDifferences && reason.stateDifferences.some(function (diff) {\n      return diff.diffType === diffTypes.different;\n    }) || reason.hookDifferences && reason.hookDifferences.some(function (diff) {\n      return diff.diffType === diffTypes.different;\n    });\n    return !hasDifferentValues;\n  }\n\n  function logDifference(_ref) {\n    var Component = _ref.Component,\n        displayName = _ref.displayName,\n        hookName = _ref.hookName,\n        prefixMessage = _ref.prefixMessage,\n        diffObjType = _ref.diffObjType,\n        differences = _ref.differences,\n        values = _ref.values;\n\n    if (differences && differences.length > 0) {\n      wdyrStore.options.consoleLog(_defineProperty({}, displayName, Component), \"\".concat(prefixMessage, \" of \").concat(diffObjType, \" changes:\"));\n      differences.forEach(function (_ref2) {\n        var pathString = _ref2.pathString,\n            diffType = _ref2.diffType,\n            prevValue = _ref2.prevValue,\n            nextValue = _ref2.nextValue;\n\n        function diffFn() {\n          printDiff(prevValue, nextValue, {\n            pathString: pathString,\n            consoleLog: wdyrStore.options.consoleLog\n          });\n        }\n\n        wdyrStore.options.consoleGroup(\"%c\".concat(diffObjType === 'hook' ? \"[hook \".concat(hookName, \" result]\") : \"\".concat(diffObjType, \".\"), \"%c\").concat(pathString, \"%c\"), \"color:\".concat(wdyrStore.options.diffNameColor, \";\"), \"color:\".concat(wdyrStore.options.diffPathColor, \";\"), 'color:default;');\n        wdyrStore.options.consoleLog(\"\".concat(diffTypesDescriptions[diffType], \". (more info at \").concat(hookName ? moreInfoHooksUrl : moreInfoUrl, \")\"));\n        wdyrStore.options.consoleLog(_defineProperty({}, \"prev \".concat(pathString), prevValue), '!==', _defineProperty({}, \"next \".concat(pathString), nextValue));\n\n        if (diffType === diffTypes.deepEquals) {\n          wdyrStore.options.consoleLog({\n            'For detailed diff, right click the following fn, save as global, and run: ': diffFn\n          });\n        }\n\n        wdyrStore.options.consoleGroupEnd();\n      });\n    } else if (differences) {\n      wdyrStore.options.consoleLog(_defineProperty({}, displayName, Component), \"\".concat(prefixMessage, \" the \").concat(diffObjType, \" object itself changed but its values are all equal.\"), diffObjType === 'props' ? 'This could have been avoided by making the component pure, or by preventing its father from re-rendering.' : 'This usually means this component called setState when no changes in its state actually occurred.', \"More info at \".concat(moreInfoUrl));\n      wdyrStore.options.consoleLog(\"prev \".concat(diffObjType, \":\"), values.prev, ' !== ', values.next, \":next \".concat(diffObjType));\n    }\n  }\n\n  function defaultNotifier(updateInfo) {\n    var Component = updateInfo.Component,\n        displayName = updateInfo.displayName,\n        hookName = updateInfo.hookName,\n        prevProps = updateInfo.prevProps,\n        prevState = updateInfo.prevState,\n        prevHook = updateInfo.prevHook,\n        nextProps = updateInfo.nextProps,\n        nextState = updateInfo.nextState,\n        nextHook = updateInfo.nextHook,\n        reason = updateInfo.reason;\n\n    if (!shouldLog(reason, Component, wdyrStore.options)) {\n      return;\n    }\n\n    wdyrStore.options.consoleGroup(\"%c\".concat(displayName), \"color: \".concat(wdyrStore.options.titleColor, \";\"));\n    var prefixMessage = 'Re-rendered because';\n\n    if (reason.propsDifferences) {\n      logDifference({\n        Component: Component,\n        displayName: displayName,\n        prefixMessage: prefixMessage,\n        diffObjType: 'props',\n        differences: reason.propsDifferences,\n        values: {\n          prev: prevProps,\n          next: nextProps\n        }\n      });\n      prefixMessage = 'And because';\n    }\n\n    if (reason.stateDifferences) {\n      logDifference({\n        Component: Component,\n        displayName: displayName,\n        prefixMessage: prefixMessage,\n        diffObjType: 'state',\n        differences: reason.stateDifferences,\n        values: {\n          prev: prevState,\n          next: nextState\n        }\n      });\n    }\n\n    if (reason.hookDifferences) {\n      logDifference({\n        Component: Component,\n        displayName: displayName,\n        prefixMessage: prefixMessage,\n        diffObjType: 'hook',\n        differences: reason.hookDifferences,\n        values: {\n          prev: prevHook,\n          next: nextHook\n        },\n        hookName: hookName\n      });\n    }\n\n    if (reason.propsDifferences && reason.ownerDifferences) {\n      var prevOwnerData = wdyrStore.ownerDataMap.get(prevProps);\n      var nextOwnerData = wdyrStore.ownerDataMap.get(nextProps);\n      wdyrStore.options.consoleGroup(\"Rendered by \".concat(nextOwnerData.displayName));\n      var _prefixMessage = 'Re-rendered because';\n\n      if (reason.ownerDifferences.propsDifferences) {\n        logDifference({\n          Component: nextOwnerData.Component,\n          displayName: nextOwnerData.displayName,\n          prefixMessage: _prefixMessage,\n          diffObjType: 'props',\n          differences: reason.ownerDifferences.propsDifferences,\n          values: {\n            prev: prevOwnerData.props,\n            next: nextOwnerData.props\n          }\n        });\n        _prefixMessage = 'And because';\n      }\n\n      if (reason.ownerDifferences.stateDifferences) {\n        logDifference({\n          Component: nextOwnerData.Component,\n          displayName: nextOwnerData.displayName,\n          prefixMessage: _prefixMessage,\n          diffObjType: 'state',\n          differences: reason.ownerDifferences.stateDifferences,\n          values: {\n            prev: prevOwnerData.state,\n            next: nextOwnerData.state\n          }\n        });\n      }\n\n      if (reason.ownerDifferences.hookDifferences) {\n        reason.ownerDifferences.hookDifferences.forEach(function (_ref3, i) {\n          var hookName = _ref3.hookName,\n              differences = _ref3.differences;\n          return logDifference({\n            Component: nextOwnerData.Component,\n            displayName: nextOwnerData.displayName,\n            prefixMessage: _prefixMessage,\n            diffObjType: 'hook',\n            differences: differences,\n            values: {\n              prev: prevOwnerData.hooks[i].result,\n              next: nextOwnerData.hooks[i].result\n            },\n            hookName: hookName\n          });\n        });\n      }\n\n      wdyrStore.options.consoleGroupEnd();\n    }\n\n    if (!reason.propsDifferences && !reason.stateDifferences && !reason.hookDifferences) {\n      wdyrStore.options.consoleLog(_defineProperty({}, displayName, Component), 'Re-rendered although props and state objects are the same.', 'This usually means there was a call to this.forceUpdate() inside the component.', \"more info at \".concat(moreInfoUrl));\n    }\n\n    wdyrStore.options.consoleGroupEnd();\n  }\n\n  function createDefaultNotifier(hotReloadBufferMs) {\n    if (hotReloadBufferMs) {\n      if (typeof module !== 'undefined' && module.hot && module.hot.addStatusHandler) {\n        module.hot.addStatusHandler(function (status) {\n          if (status === 'idle') {\n            inHotReload = true;\n            setTimeout(function () {\n              inHotReload = false;\n            }, hotReloadBufferMs);\n          }\n        });\n      }\n    }\n\n    return defaultNotifier;\n  }\n\n  var emptyFn = function emptyFn() {};\n\n  function normalizeOptions() {\n    var userOptions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var consoleGroup = console.group;\n    var consoleGroupEnd = console.groupEnd;\n\n    if (userOptions.collapseGroups) {\n      consoleGroup = console.groupCollapsed;\n    } else if (userOptions.onlyLogs) {\n      consoleGroup = console.log;\n      consoleGroupEnd = emptyFn;\n    }\n\n    var notifier = userOptions.notifier || createDefaultNotifier('hotReloadBufferMs' in userOptions ? userOptions.hotReloadBufferMs : 500);\n    return _objectSpread2({\n      include: null,\n      exclude: null,\n      notifier: notifier,\n      onlyLogs: false,\n      consoleLog: console.log,\n      consoleGroup: consoleGroup,\n      consoleGroupEnd: consoleGroupEnd,\n      logOnDifferentValues: false,\n      logOwnerReasons: true,\n      trackHooks: true,\n      titleColor: '#058',\n      diffNameColor: 'blue',\n      diffPathColor: 'red',\n      trackExtraHooks: [],\n      trackAllPureComponents: false\n    }, userOptions);\n  }\n\n  function getDisplayName(type) {\n    return type.displayName || type.name || type.type && getDisplayName(type.type) || type.render && getDisplayName(type.render) || (lodash.isString(type) ? type : 'Unknown');\n  }\n\n  function getDefaultProps(type) {\n    return type.defaultProps || type.type && getDefaultProps(type.type) || type.render && getDefaultProps(type.render) || {};\n  }\n\n  var emptyObject = {};\n\n  function findObjectsDifferences(userPrevObj, userNextObj) {\n    var _ref = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n        _ref$shallow = _ref.shallow,\n        shallow = _ref$shallow === void 0 ? true : _ref$shallow;\n\n    if (userPrevObj === userNextObj) {\n      return false;\n    }\n\n    if (!shallow) {\n      return calculateDeepEqualDiffs(userPrevObj, userNextObj);\n    }\n\n    var prevObj = userPrevObj || emptyObject;\n    var nextObj = userNextObj || emptyObject;\n    var keysOfBothObjects = Object.keys(_objectSpread2(_objectSpread2({}, prevObj), nextObj));\n    return lodash.reduce(keysOfBothObjects, function (result, key) {\n      var deepEqualDiffs = calculateDeepEqualDiffs(prevObj[key], nextObj[key], key);\n\n      if (deepEqualDiffs) {\n        result = [].concat(_toConsumableArray(result), _toConsumableArray(deepEqualDiffs));\n      }\n\n      return result;\n    }, []);\n  }\n\n  function getOwnerDifferences(_ref) {\n    var prevOwnerData = _ref.prevOwnerData,\n        nextOwnerData = _ref.nextOwnerData;\n\n    if (!prevOwnerData || !nextOwnerData) {\n      return false;\n    } // in strict mode prevOwnerData might be twice as lengthy because of double renders\n\n\n    var prevOwnerDataHooks = prevOwnerData.hooks.length === nextOwnerData.hooks.length * 2 ? prevOwnerData.hooks.slice(prevOwnerData.hooks.length / 2) : prevOwnerData.hooks;\n    var hookDifferences = prevOwnerDataHooks.map(function (_ref2, i) {\n      var hookName = _ref2.hookName,\n          result = _ref2.result;\n      return {\n        hookName: hookName,\n        differences: findObjectsDifferences(result, nextOwnerData.hooks[i].result, {\n          shallow: false\n        })\n      };\n    });\n    return {\n      propsDifferences: findObjectsDifferences(prevOwnerData.props, nextOwnerData.props),\n      stateDifferences: findObjectsDifferences(prevOwnerData.state, nextOwnerData.state),\n      hookDifferences: hookDifferences.length > 0 ? hookDifferences : false\n    };\n  }\n\n  function getUpdateReason(prevProps, prevState, prevHook, nextProps, nextState, nextHook) {\n    var prevOwnerData = wdyrStore.ownerDataMap.get(prevProps);\n    var nextOwnerData = wdyrStore.ownerDataMap.get(nextProps);\n    return {\n      propsDifferences: findObjectsDifferences(prevProps, nextProps),\n      stateDifferences: findObjectsDifferences(prevState, nextState),\n      hookDifferences: findObjectsDifferences(prevHook, nextHook, {\n        shallow: false\n      }),\n      ownerDifferences: getOwnerDifferences({\n        prevOwnerData: prevOwnerData,\n        nextOwnerData: nextOwnerData\n      })\n    };\n  }\n\n  function getUpdateInfo(_ref3) {\n    var Component = _ref3.Component,\n        displayName = _ref3.displayName,\n        hookName = _ref3.hookName,\n        prevProps = _ref3.prevProps,\n        prevState = _ref3.prevState,\n        prevHook = _ref3.prevHook,\n        nextProps = _ref3.nextProps,\n        nextState = _ref3.nextState,\n        nextHook = _ref3.nextHook;\n    return {\n      Component: Component,\n      displayName: displayName,\n      hookName: hookName,\n      prevProps: prevProps,\n      prevState: prevState,\n      prevHook: prevHook,\n      nextProps: nextProps,\n      nextState: nextState,\n      nextHook: nextHook,\n      reason: getUpdateReason(prevProps, prevState, prevHook, nextProps, nextState, nextHook)\n    };\n  } // copied from https://github.com/facebook/react/blob/master/packages/react-reconciler/src/ReactTypeOfMode.js\n\n\n  var StrictMode = 1; // based on \"findStrictRoot\" from https://github.com/facebook/react/blob/master/packages/react-reconciler/src/ReactStrictModeWarnings.js\n  // notice: this is only used for class components. functional components doesn't render twice inside strict mode\n\n  function checkIfInsideAStrictModeTree(reactComponentInstance) {\n    var reactInternalFiber = reactComponentInstance && (reactComponentInstance._reactInternalFiber || reactComponentInstance._reactInternals);\n\n    while (reactInternalFiber) {\n      if (reactInternalFiber.mode & StrictMode) {\n        return true;\n      }\n\n      reactInternalFiber = reactInternalFiber[\"return\"];\n    }\n\n    return false;\n  }\n\n  function isReactClassComponent(Component) {\n    return Component.prototype && !!Component.prototype.isReactComponent;\n  }\n\n  function isMemoComponent(Component) {\n    return Component.$$typeof === REACT_MEMO_TYPE;\n  }\n\n  function isForwardRefComponent(Component) {\n    return Component.$$typeof === REACT_FORWARD_REF_TYPE;\n  }\n\n  function shouldInclude(displayName) {\n    return wdyrStore.options.include && wdyrStore.options.include.length > 0 && wdyrStore.options.include.some(function (regex) {\n      return regex.test(displayName);\n    });\n  }\n\n  function shouldExclude(displayName) {\n    return wdyrStore.options.exclude && wdyrStore.options.exclude.length > 0 && wdyrStore.options.exclude.some(function (regex) {\n      return regex.test(displayName);\n    });\n  }\n\n  function shouldTrack(Component, _ref) {\n    var isHookChange = _ref.isHookChange;\n    var displayName = getDisplayName(Component);\n\n    if (shouldExclude(displayName)) {\n      return false;\n    }\n\n    if (Component.whyDidYouRender === false) {\n      return false;\n    }\n\n    if (isHookChange && Component.whyDidYouRender && Component.whyDidYouRender.trackHooks === false) {\n      return false;\n    }\n\n    return !!(Component.whyDidYouRender || wdyrStore.options.trackAllPureComponents && (Component && Component.prototype instanceof wdyrStore.React.PureComponent || isMemoComponent(Component)) || shouldInclude(displayName));\n  }\n\n  function patchClassComponent(ClassComponent, _ref) {\n    var displayName = _ref.displayName,\n        defaultProps = _ref.defaultProps;\n\n    var WDYRPatchedClassComponent = /*#__PURE__*/function (_ClassComponent) {\n      _inherits(WDYRPatchedClassComponent, _ClassComponent);\n\n      var _super = _createSuper(WDYRPatchedClassComponent);\n\n      function WDYRPatchedClassComponent(props, context) {\n        var _thisSuper, _this;\n\n        _classCallCheck(this, WDYRPatchedClassComponent);\n\n        _this = _super.call(this, props, context);\n        _this._WDYR = {\n          renderNumber: 0\n        };\n\n        var origRender = _get((_thisSuper = _assertThisInitialized(_this), _getPrototypeOf(WDYRPatchedClassComponent.prototype)), \"render\", _thisSuper) || _this.render; // this probably means that render is an arrow function or this.render.bind(this) was called on the original class\n\n\n        var renderIsABindedFunction = origRender !== ClassComponent.prototype.render;\n\n        if (renderIsABindedFunction) {\n          _this.render = function () {\n            WDYRPatchedClassComponent.prototype.render.apply(_assertThisInitialized(_this));\n            return origRender();\n          };\n        }\n\n        return _this;\n      }\n\n      _createClass(WDYRPatchedClassComponent, [{\n        key: \"render\",\n        value: function render() {\n          this._WDYR.renderNumber++;\n\n          if (!('isStrictMode' in this._WDYR)) {\n            this._WDYR.isStrictMode = checkIfInsideAStrictModeTree(this);\n          } // in strict mode- ignore every other render\n\n\n          if (!(this._WDYR.isStrictMode && this._WDYR.renderNumber % 2 === 1)) {\n            if (this._WDYR.prevProps) {\n              var updateInfo = getUpdateInfo({\n                Component: ClassComponent,\n                displayName: displayName,\n                prevProps: this._WDYR.prevProps,\n                prevState: this._WDYR.prevState,\n                nextProps: this.props,\n                nextState: this.state\n              });\n              wdyrStore.options.notifier(updateInfo);\n            }\n\n            this._WDYR.prevProps = this.props;\n            this._WDYR.prevState = this.state;\n          }\n\n          return _get(_getPrototypeOf(WDYRPatchedClassComponent.prototype), \"render\", this) ? _get(_getPrototypeOf(WDYRPatchedClassComponent.prototype), \"render\", this).call(this) : null;\n        }\n      }]);\n\n      return WDYRPatchedClassComponent;\n    }(ClassComponent);\n\n    try {\n      WDYRPatchedClassComponent.displayName = displayName;\n    } catch (e) {// not crucial if displayName couldn't be set\n    }\n\n    WDYRPatchedClassComponent.defaultProps = defaultProps;\n    lodash.defaults(WDYRPatchedClassComponent, ClassComponent);\n    return WDYRPatchedClassComponent;\n  }\n\n  var getFunctionalComponentFromStringComponent = function getFunctionalComponentFromStringComponent(componentTypeStr) {\n    return function (props) {\n      return wdyrStore.React.createElement(componentTypeStr, props);\n    };\n  };\n\n  function patchFunctionalOrStrComponent(FunctionalOrStringComponent, _ref) {\n    var isPure = _ref.isPure,\n        displayName = _ref.displayName,\n        defaultProps = _ref.defaultProps;\n    var FunctionalComponent = typeof FunctionalOrStringComponent === 'string' ? getFunctionalComponentFromStringComponent(FunctionalOrStringComponent) : FunctionalOrStringComponent;\n\n    function WDYRFunctionalComponent() {\n      var nextProps = arguments[0];\n      var ref = wdyrStore.React.useRef();\n      var prevProps = ref.current;\n      ref.current = nextProps;\n\n      if (prevProps) {\n        var updateInfo = getUpdateInfo({\n          Component: FunctionalComponent,\n          displayName: displayName,\n          prevProps: prevProps,\n          nextProps: nextProps\n        });\n        var notifiedByHooks = !updateInfo.reason.propsDifferences || isPure && updateInfo.reason.propsDifferences.length === 0;\n\n        if (!notifiedByHooks) {\n          wdyrStore.options.notifier(updateInfo);\n        }\n      }\n\n      return FunctionalComponent.apply(void 0, arguments);\n    }\n\n    try {\n      WDYRFunctionalComponent.displayName = displayName;\n    } catch (e) {// not crucial if displayName couldn't be set\n    }\n\n    WDYRFunctionalComponent.defaultProps = defaultProps;\n    WDYRFunctionalComponent.ComponentForHooksTracking = FunctionalComponent;\n    lodash.defaults(WDYRFunctionalComponent, FunctionalComponent);\n    return WDYRFunctionalComponent;\n  }\n\n  function patchMemoComponent(MemoComponent, _ref) {\n    var displayName = _ref.displayName,\n        defaultProps = _ref.defaultProps;\n    var InnerMemoComponent = MemoComponent.type;\n    var isInnerMemoComponentAClassComponent = isReactClassComponent(InnerMemoComponent);\n    var isInnerMemoComponentForwardRefs = isForwardRefComponent(InnerMemoComponent);\n    var isInnerMemoComponentAnotherMemoComponent = isMemoComponent(InnerMemoComponent);\n    var WrappedFunctionalComponent = isInnerMemoComponentForwardRefs ? InnerMemoComponent.render : InnerMemoComponent;\n    var PatchedInnerComponent = isInnerMemoComponentAClassComponent ? patchClassComponent(WrappedFunctionalComponent, {\n      displayName: displayName,\n      defaultProps: defaultProps\n    }) : isInnerMemoComponentAnotherMemoComponent ? patchMemoComponent(WrappedFunctionalComponent, {\n      displayName: displayName,\n      defaultProps: defaultProps\n    }) : patchFunctionalOrStrComponent(WrappedFunctionalComponent, {\n      displayName: displayName,\n      isPure: true\n    });\n\n    try {\n      PatchedInnerComponent.displayName = getDisplayName(WrappedFunctionalComponent);\n    } catch (e) {// not crucial if displayName couldn't be set\n    }\n\n    PatchedInnerComponent.ComponentForHooksTracking = MemoComponent;\n    lodash.defaults(PatchedInnerComponent, WrappedFunctionalComponent);\n    var WDYRMemoizedFunctionalComponent = wdyrStore.React.memo(isInnerMemoComponentForwardRefs ? wdyrStore.React.forwardRef(PatchedInnerComponent) : PatchedInnerComponent, MemoComponent.compare);\n\n    try {\n      WDYRMemoizedFunctionalComponent.displayName = displayName;\n    } catch (e) {// not crucial if displayName couldn't be set\n    }\n\n    WDYRMemoizedFunctionalComponent.defaultProps = defaultProps;\n    lodash.defaults(WDYRMemoizedFunctionalComponent, MemoComponent);\n    return WDYRMemoizedFunctionalComponent;\n  }\n\n  function patchForwardRefComponent(ForwardRefComponent, _ref) {\n    var displayName = _ref.displayName,\n        defaultProps = _ref.defaultProps;\n    var InnerForwardRefComponent = ForwardRefComponent.render;\n    var isInnerComponentMemoized = isMemoComponent(InnerForwardRefComponent);\n    var WrappedFunctionalComponent = isInnerComponentMemoized ? InnerForwardRefComponent.type : InnerForwardRefComponent;\n    var WDYRWrappedByReactForwardRefFunctionalComponent = patchFunctionalOrStrComponent(WrappedFunctionalComponent, {\n      isPure: isInnerComponentMemoized,\n      displayName: displayName\n    });\n    WDYRWrappedByReactForwardRefFunctionalComponent.displayName = getDisplayName(WrappedFunctionalComponent);\n    WDYRWrappedByReactForwardRefFunctionalComponent.ComponentForHooksTracking = WrappedFunctionalComponent;\n    lodash.defaults(WDYRWrappedByReactForwardRefFunctionalComponent, WrappedFunctionalComponent);\n    var WDYRForwardRefFunctionalComponent = wdyrStore.React.forwardRef(isInnerComponentMemoized ? wdyrStore.React.memo(WDYRWrappedByReactForwardRefFunctionalComponent, InnerForwardRefComponent.compare) : WDYRWrappedByReactForwardRefFunctionalComponent);\n\n    try {\n      WDYRForwardRefFunctionalComponent.displayName = displayName;\n    } catch (e) {// not crucial if displayName couldn't be set\n    }\n\n    WDYRForwardRefFunctionalComponent.defaultProps = defaultProps;\n    lodash.defaults(WDYRForwardRefFunctionalComponent, ForwardRefComponent);\n    return WDYRForwardRefFunctionalComponent;\n  }\n\n  var initialHookValue = Symbol('initial-hook-value');\n\n  function trackHookChanges(hookName, _ref, hookResult) {\n    var hookPath = _ref.path;\n    var nextHook = hookPath ? lodash.get(hookResult, hookPath) : hookResult;\n    var renderNumberForTheHook = wdyrStore.React.useRef(true); // TODO: improve\n\n    var isSecondCycleOfRenders = wdyrStore.hooksPerRender[0] && wdyrStore.hooksPerRender[0].renderNumberForTheHook !== renderNumberForTheHook.current;\n\n    if (isSecondCycleOfRenders) {\n      wdyrStore.hooksPerRender = [];\n    }\n\n    wdyrStore.hooksPerRender.push({\n      hookName: hookName,\n      result: nextHook,\n      renderNumberForTheHook: renderNumberForTheHook.current\n    });\n    renderNumberForTheHook.current++;\n    var ComponentHookDispatchedFromInstance = wdyrStore.React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED && wdyrStore.React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner.current;\n    var prevHookRef = wdyrStore.React.useRef(initialHookValue);\n\n    if (!ComponentHookDispatchedFromInstance) {\n      return hookResult;\n    }\n\n    var Component = ComponentHookDispatchedFromInstance.type.ComponentForHooksTracking || ComponentHookDispatchedFromInstance.type;\n    var displayName = getDisplayName(Component);\n    var isShouldTrack = shouldTrack(Component, {\n      isHookChange: true\n    });\n\n    if (!isShouldTrack) {\n      return hookResult;\n    }\n\n    var newPrevHookRef = prevHookRef.current;\n    prevHookRef.current = hookResult;\n\n    if (newPrevHookRef !== initialHookValue) {\n      var notification = getUpdateInfo({\n        Component: Component,\n        displayName: displayName,\n        hookName: hookName,\n        prevHook: hookPath ? lodash.get(newPrevHookRef, hookPath) : newPrevHookRef,\n        nextHook: nextHook\n      });\n\n      if (notification.reason.hookDifferences) {\n        wdyrStore.options.notifier(notification);\n      }\n    }\n\n    return hookResult;\n  }\n\n  function createPatchedComponent(Component, _ref2) {\n    var displayName = _ref2.displayName,\n        defaultProps = _ref2.defaultProps;\n\n    if (isMemoComponent(Component)) {\n      return patchMemoComponent(Component, {\n        displayName: displayName,\n        defaultProps: defaultProps\n      });\n    }\n\n    if (isForwardRefComponent(Component)) {\n      return patchForwardRefComponent(Component, {\n        displayName: displayName,\n        defaultProps: defaultProps\n      });\n    }\n\n    if (isReactClassComponent(Component)) {\n      return patchClassComponent(Component, {\n        displayName: displayName,\n        defaultProps: defaultProps\n      });\n    }\n\n    return patchFunctionalOrStrComponent(Component, {\n      displayName: displayName,\n      defaultProps: defaultProps,\n      isPure: false\n    });\n  }\n\n  function getPatchedComponent(Component, _ref3) {\n    var displayName = _ref3.displayName,\n        defaultProps = _ref3.defaultProps;\n\n    if (wdyrStore.componentsMap.has(Component)) {\n      return wdyrStore.componentsMap.get(Component);\n    }\n\n    var WDYRPatchedComponent = createPatchedComponent(Component, {\n      displayName: displayName,\n      defaultProps: defaultProps\n    });\n    wdyrStore.componentsMap.set(Component, WDYRPatchedComponent);\n    return WDYRPatchedComponent;\n  }\n\n  function getIsSupportedComponentType(Comp) {\n    if (!Comp) {\n      return false;\n    }\n\n    if (isMemoComponent(Comp)) {\n      return getIsSupportedComponentType(Comp.type);\n    }\n\n    if (isForwardRefComponent(Comp)) {\n      return getIsSupportedComponentType(Comp.render);\n    }\n\n    if (typeof Comp === 'function') {\n      return true;\n    }\n  }\n\n  var hooksConfig = {\n    useState: {\n      path: '0'\n    },\n    useReducer: {\n      path: '0'\n    },\n    useContext: undefined,\n    useMemo: {\n      dependenciesPath: '1',\n      dontReport: true\n    },\n    useCallback: {\n      dependenciesPath: '1',\n      dontReport: true\n    }\n  };\n\n  function storeOwnerData(element) {\n    var OwnerInstance = wdyrStore.React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner.current;\n\n    if (OwnerInstance) {\n      var Component = OwnerInstance.type.ComponentForHooksTracking || OwnerInstance.type;\n      var displayName = getDisplayName(Component);\n      var additionalOwnerData = {};\n\n      if (wdyrStore.options.getAdditionalOwnerData) {\n        additionalOwnerData = wdyrStore.options.getAdditionalOwnerData(element);\n      }\n\n      wdyrStore.ownerDataMap.set(element.props, {\n        Component: Component,\n        displayName: displayName,\n        props: OwnerInstance.pendingProps,\n        state: OwnerInstance.stateNode ? OwnerInstance.stateNode.state : null,\n        hooks: wdyrStore.hooksPerRender,\n        additionalOwnerData: additionalOwnerData\n      });\n    }\n  }\n\n  function resetHooksPerRenderIfNeeded() {\n    // Intercept assignments to ReactCurrentOwner.current to reset hooksPerRender\n    var currentOwner = null;\n\n    if (wdyrStore.React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED) {\n      Object.defineProperty(wdyrStore.React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner, 'current', {\n        get: function get() {\n          return currentOwner;\n        },\n        set: function set(value) {\n          currentOwner = value;\n          wdyrStore.hooksPerRender = [];\n        }\n      });\n    }\n  }\n\n  function trackHooksIfNeeded() {\n    var hooksSupported = !!wdyrStore.React.useState;\n\n    if (wdyrStore.options.trackHooks && hooksSupported) {\n      var nativeHooks = Object.entries(hooksConfig).map(function (_ref4) {\n        var _ref5 = _slicedToArray(_ref4, 2),\n            hookName = _ref5[0],\n            hookTrackingConfig = _ref5[1];\n\n        return [wdyrStore.React, hookName, hookTrackingConfig];\n      });\n      var hooksToTrack = [].concat(_toConsumableArray(nativeHooks), _toConsumableArray(wdyrStore.options.trackExtraHooks));\n      hooksToTrack.forEach(function (_ref6) {\n        var _ref7 = _slicedToArray(_ref6, 3),\n            hookParent = _ref7[0],\n            hookName = _ref7[1],\n            _ref7$ = _ref7[2],\n            hookTrackingConfig = _ref7$ === void 0 ? {} : _ref7$;\n\n        var originalHook = hookParent[hookName];\n        var newHookName = hookName[0].toUpperCase() + hookName.slice(1);\n\n        var newHook = function newHook() {\n          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n          }\n\n          var hookResult = originalHook.call.apply(originalHook, [this].concat(args));\n          var dependenciesPath = hookTrackingConfig.dependenciesPath,\n              dontReport = hookTrackingConfig.dontReport;\n\n          if (dependenciesPath && lodash.isFunction(hookResult)) {\n            dependenciesMap.set(hookResult, {\n              hookName: hookName,\n              deps: lodash.get(args, dependenciesPath)\n            });\n          }\n\n          if (!dontReport) {\n            trackHookChanges(hookName, hookTrackingConfig, hookResult);\n          }\n\n          return hookResult;\n        };\n\n        Object.defineProperty(newHook, 'name', {\n          value: newHookName,\n          writable: false\n        });\n        Object.assign(newHook, {\n          originalHook: originalHook\n        });\n        hookParent[hookName] = newHook;\n      });\n    }\n  }\n\n  function getWDYRType(origType) {\n    var isShouldTrack = getIsSupportedComponentType(origType) && shouldTrack(origType, {\n      isHookChange: false\n    });\n\n    if (!isShouldTrack) {\n      return null;\n    }\n\n    var displayName = origType && origType.whyDidYouRender && origType.whyDidYouRender.customName || getDisplayName(origType);\n    var defaultProps = getDefaultProps(origType);\n    var WDYRPatchedComponent = getPatchedComponent(origType, {\n      displayName: displayName,\n      defaultProps: defaultProps\n    });\n    return WDYRPatchedComponent;\n  }\n\n  function whyDidYouRender(React, userOptions) {\n    if (React.isWDYR) {\n      return;\n    }\n\n    Object.assign(wdyrStore, {\n      React: React,\n      options: normalizeOptions(userOptions),\n      origCreateElement: React.createElement,\n      origCreateFactory: React.createFactory,\n      origCloneElement: React.cloneElement,\n      componentsMap: new WeakMap()\n    });\n    resetHooksPerRenderIfNeeded();\n\n    React.createElement = function (origType) {\n      var WDYRType = getWDYRType(origType);\n\n      for (var _len2 = arguments.length, rest = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        rest[_key2 - 1] = arguments[_key2];\n      }\n\n      if (WDYRType) {\n        try {\n          var element = wdyrStore.origCreateElement.apply(React, [WDYRType].concat(rest));\n\n          if (wdyrStore.options.logOwnerReasons) {\n            storeOwnerData(element);\n          }\n\n          return element;\n        } catch (e) {\n          wdyrStore.options.consoleLog('whyDidYouRender error. Please file a bug at https://github.com/welldone-software/why-did-you-render/issues.', {\n            errorInfo: {\n              error: e,\n              componentNameOrComponent: origType,\n              rest: rest,\n              options: wdyrStore.options\n            }\n          });\n        }\n      }\n\n      return wdyrStore.origCreateElement.apply(React, [origType].concat(rest));\n    };\n\n    Object.assign(React.createElement, wdyrStore.origCreateElement);\n\n    React.createFactory = function (type) {\n      var factory = React.createElement.bind(null, type);\n      factory.type = type;\n      return factory;\n    };\n\n    Object.assign(React.createFactory, wdyrStore.origCreateFactory);\n\n    React.cloneElement = function () {\n      for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        args[_key3] = arguments[_key3];\n      }\n\n      var element = wdyrStore.origCloneElement.apply(React, args);\n\n      if (wdyrStore.options.logOwnerReasons) {\n        storeOwnerData(element);\n      }\n\n      return element;\n    };\n\n    Object.assign(React.cloneElement, wdyrStore.origCloneElement);\n    trackHooksIfNeeded();\n    React.isWDYR = true;\n\n    React.__REVERT_WHY_DID_YOU_RENDER__ = function () {\n      Object.assign(React, {\n        createElement: wdyrStore.origCreateElement,\n        createFactory: wdyrStore.origCreateFactory,\n        cloneElement: wdyrStore.origCloneElement\n      });\n      wdyrStore.componentsMap = null;\n      var hooksToRevert = [].concat(_toConsumableArray(Object.keys(hooksConfig).map(function (hookName) {\n        return [React, hookName];\n      })), _toConsumableArray(wdyrStore.options.trackExtraHooks));\n      hooksToRevert.forEach(function (_ref8) {\n        var _ref9 = _slicedToArray(_ref8, 2),\n            hookParent = _ref9[0],\n            hookName = _ref9[1];\n\n        if (hookParent[hookName].originalHook) {\n          hookParent[hookName] = hookParent[hookName].originalHook;\n        }\n      });\n      delete React.__REVERT_WHY_DID_YOU_RENDER__;\n      delete React.isWDYR;\n    };\n\n    return React;\n  }\n\n  whyDidYouRender.defaultNotifier = defaultNotifier;\n  whyDidYouRender.wdyrStore = wdyrStore;\n  whyDidYouRender.storeOwnerData = storeOwnerData;\n  whyDidYouRender.getWDYRType = getWDYRType;\n  Object.assign(whyDidYouRender, React__namespace);\n  return whyDidYouRender;\n});","map":{"version":3,"sources":["../src/wdyrStore.js","../src/consts.js","../src/calculateDeepEqualDiffs.js","../src/printDiff.js","../src/defaultNotifier.js","../src/normalizeOptions.js","../src/getDisplayName.js","../src/getDefaultProps.js","../src/findObjectsDifferences.js","../src/getUpdateInfo.js","../src/utils.js","../src/shouldTrack.js","../src/patches/patchClassComponent.js","../src/patches/patchFunctionalOrStrComponent.js","../src/patches/patchMemoComponent.js","../src/patches/patchForwardRefComponent.js","../src/whyDidYouRender.js","../src/index.js"],"names":["wdyrStore","React","options","origCreateElement","origCreateFactory","origCloneElement","componentsMap","ownerDataMap","hooksPerRender","diffTypes","diffTypesDescriptions","hasSymbol","Symbol","REACT_MEMO_TYPE","REACT_FORWARD_REF_TYPE","hasElementType","REACT_ELEMENT_TYPE","isReactElement","object","diffsAccumulator","diffType","pathString","prevValue","nextValue","b","Object","dependenciesMap","detailed","a","trackDiff","isArray","arrayLength","arrayItemDiffs","numberOfDeepEqualsItems","i","diffEquals","accumulateDeepEqualDiffs","isSet","valA","isDate","isRegExp","reactElementPropsAreDeepEqual","isFunction","aDependenciesObj","bDependenciesObj","dependenciesAreDeepEqual","aKeys","bKeys","allKeys","uniq","clonedA","isPlainObject","clonedB","relevantKeys","key","isError","isGetter","keysLength","has","objectValuesDiffs","numberOfDeepEqualsObjectValues","deepEquals","diffs","error","console","consoleLog","calculateDeepEqualDiffs","diff","groupBy","sortBy","moreInfoUrl","moreInfoHooksUrl","inHotReload","Component","hasDifferentValues","reason","displayName","hookName","prefixMessage","diffObjType","differences","values","printDiff","diffFn","prevProps","prevState","prevHook","nextProps","nextState","nextHook","updateInfo","shouldLog","logDifference","prev","next","prevOwnerData","nextOwnerData","props","state","result","module","status","setTimeout","emptyFn","userOptions","consoleGroup","consoleGroupEnd","notifier","createDefaultNotifier","include","exclude","onlyLogs","logOnDifferentValues","logOwnerReasons","trackHooks","titleColor","diffNameColor","diffPathColor","trackExtraHooks","trackAllPureComponents","type","getDisplayName","isString","getDefaultProps","emptyObject","shallow","userPrevObj","prevObj","nextObj","userNextObj","keysOfBothObjects","reduce","deepEqualDiffs","prevOwnerDataHooks","hookDifferences","findObjectsDifferences","propsDifferences","stateDifferences","ownerDifferences","getOwnerDifferences","getUpdateReason","StrictMode","reactInternalFiber","reactComponentInstance","regex","isHookChange","shouldExclude","isMemoComponent","shouldInclude","defaultProps","WDYRPatchedClassComponent","renderNumber","origRender","renderIsABindedFunction","ClassComponent","checkIfInsideAStrictModeTree","getUpdateInfo","defaults","getFunctionalComponentFromStringComponent","isPure","FunctionalComponent","arguments","ref","notifiedByHooks","WDYRFunctionalComponent","InnerMemoComponent","MemoComponent","isInnerMemoComponentAClassComponent","isReactClassComponent","isInnerMemoComponentForwardRefs","isForwardRefComponent","isInnerMemoComponentAnotherMemoComponent","WrappedFunctionalComponent","PatchedInnerComponent","patchClassComponent","patchMemoComponent","patchFunctionalOrStrComponent","WDYRMemoizedFunctionalComponent","InnerForwardRefComponent","ForwardRefComponent","isInnerComponentMemoized","WDYRWrappedByReactForwardRefFunctionalComponent","WDYRForwardRefFunctionalComponent","initialHookValue","path","hookPath","get","renderNumberForTheHook","isSecondCycleOfRenders","current","ComponentHookDispatchedFromInstance","prevHookRef","isShouldTrack","shouldTrack","newPrevHookRef","notification","patchForwardRefComponent","WDYRPatchedComponent","createPatchedComponent","getIsSupportedComponentType","Comp","hooksConfig","useState","useReducer","useContext","useMemo","dependenciesPath","dontReport","useCallback","OwnerInstance","additionalOwnerData","element","hooks","currentOwner","set","hooksSupported","nativeHooks","hookTrackingConfig","hooksToTrack","hookParent","originalHook","newHookName","newHook","args","hookResult","deps","trackHookChanges","value","writable","origType","getPatchedComponent","normalizeOptions","resetHooksPerRenderIfNeeded","rest","WDYRType","getWDYRType","storeOwnerData","errorInfo","componentNameOrComponent","factory","trackHooksIfNeeded","createElement","createFactory","cloneElement","hooksToRevert","whyDidYouRender"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,MAAMA,SAAS,GAAG;AAChB;AACAC,IAAAA,KAAK,EAFW,SAAA;;AAIhB;AACAC,IAAAA,OAAO,EALS,SAAA;;AAOhB;AACAC,IAAAA,iBAAiB,EARD,SAAA;;AAUhB;AACAC,IAAAA,iBAAiB,EAXD,SAAA;;AAahB;AACAC,IAAAA,gBAAgB,EAdA,SAAA;;AAgBhB;AACAC,IAAAA,aAAa,EAAE,IAjBC,OAiBD,EAjBC;;AAmBhB;AACAC,IAAAA,YAAY,EAAE,IApBE,OAoBF,EApBE;;AAsBhB;AACAC,IAAAA,cAAc,EAAE;AAvBA,GAAlB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAO,MAAMC,SAAS,GAAG;AACvB,iBADuB,WAAA;AAEvB,kBAFuB,YAAA;AAGvB,YAHuB,MAAA;AAIvB,aAJuB,OAAA;AAKvB,oBALuB,cAAA;AAMvB,gBANuB,UAAA;AAOvB,YAAQ;AAPe,GAAlB;AAUA,MAAMC,qBAAqB,IAAA,qBAAA,GAAA,EAAA,EAAA,eAAA,CAAA,qBAAA,EAC/BD,SAAS,CADsB,SAAA,EAAA,mBAAA,CAAA,EAAA,eAAA,CAAA,qBAAA,EAE/BA,SAAS,CAFsB,UAAA,EAAA,2CAAA,CAAA,EAAA,eAAA,CAAA,qBAAA,EAG/BA,SAAS,CAHsB,IAAA,EAAA,4CAAA,CAAA,EAAA,eAAA,CAAA,qBAAA,EAI/BA,SAAS,CAJsB,KAAA,EAAA,mDAAA,CAAA,EAAA,eAAA,CAAA,qBAAA,EAK/BA,SAAS,CALsB,YAAA,EAAA,2KAAA,CAAA,EAAA,eAAA,CAAA,qBAAA,EAM/BA,SAAS,CANsB,UAMtB,CANsB,EAAA,wCAAA,CAAA,EAAA,eAAA,CAAA,qBAAA,EAO/BA,SAAS,CAPsB,IAAA,EAAA,2BAAA,CAAA,EAA3B,qBAA2B,CAA3B,C,CAAA;;AAWP,MAAME,WAAS,GAAG,OAAA,MAAA,KAAA,UAAA,IAAgCC,MAAM,CAAxD,KAAwD,CAAxD;AACO,MAAMC,eAAe,GAAGF,WAAS,GAAGC,MAAM,CAANA,KAAM,CAANA,CAAH,YAAGA,CAAH,GAAjC,MAAA;AACA,MAAME,sBAAsB,GAAGH,WAAS,GAAGC,MAAM,CAANA,KAAM,CAANA,CAAH,mBAAGA,CAAH,GAAxC,MAAA;ACTP,MAAMG,cAAc,GAAG,OAAA,OAAA,KAAvB,WAAA,C,CAAA;;AAGA,MAAMJ,SAAS,GAAG,OAAA,MAAA,KAAA,UAAA,IAAgCC,MAAM,CAAxD,KAAwD,CAAxD;AACA,MAAMI,kBAAkB,GAAGL,SAAS,GAAGC,MAAM,CAANA,KAAM,CAANA,CAAH,eAAGA,CAAH,GAApC,MAAA;;AACA,MAAMK,cAAc,GAAG,SAAjBA,cAAiB,CAAA,MAAA,EAAM;AAAA,WAAIC,MAAM,CAANA,QAAAA,KAAJ,kBAAA;AAA7B,GAAA,C,CAAA;;;AAGA,WAAA,SAAA,CAAA,CAAA,EAAA,CAAA,EAAA,gBAAA,EAAA,UAAA,EAAA,QAAA,EAAiE;AAC/DC,IAAAA,gBAAgB,CAAhBA,IAAAA,CAAsB;AACpBC,MAAAA,QAAQ,EADY,QAAA;AAEpBC,MAAAA,UAAU,EAFU,UAAA;AAGpBC,MAAAA,SAAS,EAHW,CAAA;AAIpBC,MAAAA,SAAS,EAAEC;AAJS,KAAtBL;AAMA,WAAOC,QAAQ,KAAKX,SAAS,CAA7B,SAAA;AACD;;AAED,WAAA,QAAA,CAAA,GAAA,EAAA,IAAA,EAA6B;AAC3B,WAAO,CAAC,CAACgB,MAAM,CAANA,wBAAAA,CAAAA,GAAAA,EAAAA,IAAAA,EAAT,KAASA,CAAT;AACD;;AAEM,MAAMC,eAAe,GAAG,IAAxB,OAAwB,EAAxB;;AAEP,WAAA,wBAAA,CAAA,CAAA,EAAA,CAAA,EAAA,gBAAA,EAAyF;AAAA,QAA/BL,UAA+B,GAAA,SAAA,CAAA,MAAA,GAAA,CAAA,IAAA,SAAA,CAAA,CAAA,CAAA,KAAA,SAAA,GAAA,SAAA,CAAA,CAAA,CAAA,GAAlB,EAAkB;;AAAA,QAAA,IAAA,GAAA,SAAA,CAAA,MAAA,GAAA,CAAA,GAAA,SAAA,CAAA,CAAA,CAAA,GAAA,SAAA;AAAA,QAAZM,QAAY,GAAA,IAAA,CAAZA,QAAY;;AACvF,QAAIC,CAAC,KAAL,CAAA,EAAa;AACX,UAAA,QAAA,EAAc;AACZC,QAAAA,SAAS,CAAA,CAAA,EAAA,CAAA,EAAA,gBAAA,EAAA,UAAA,EAAqCpB,SAAS,CAAvDoB,IAAS,CAATA;AACD;;AACD,aAAA,IAAA;AACD;;AAED,QAAI,CAAA,CAAA,IAAM,CAAV,CAAA,EAAc;AACZ,aAAOA,SAAS,CAAA,CAAA,EAAA,CAAA,EAAA,gBAAA,EAAA,UAAA,EAAqCpB,SAAS,CAA9D,SAAgB,CAAhB;AACD;;AAED,QAAIqB,MAAAA,CAAAA,OAAAA,CAAAA,CAAAA,KAAcA,MAAAA,CAAAA,OAAAA,CAAlB,CAAkBA,CAAlB,EAA8B;AAC5B,UAAMC,WAAW,GAAGH,CAAC,CAArB,MAAA;;AACA,UAAIG,WAAW,KAAKP,CAAC,CAArB,MAAA,EAA8B;AAC5B,eAAOK,SAAS,CAAA,kBAAA,CAAA,CAAA,CAAA,EAAA,kBAAA,CAAA,CAAA,CAAA,EAAA,gBAAA,EAAA,UAAA,EAA+CpB,SAAS,CAAxE,SAAgB,CAAhB;AACD;;AAED,UAAMuB,cAAc,GAApB,EAAA;AACA,UAAIC,uBAAuB,GAA3B,CAAA;;AACA,WAAK,IAAIC,CAAC,GAAV,WAAA,EAA0BA,CAA1B,EAAA,EAA+BA,CAAC,GAAhC,CAAA,EAAsC;AACpC,YAAMC,UAAU,GAAGC,wBAAwB,CAACR,CAAC,CAAF,CAAE,CAAF,EAAOJ,CAAC,CAAR,CAAQ,CAAR,EAAA,cAAA,EAAA,GAAA,MAAA,CAAA,UAAA,EAAA,GAAA,EAAA,MAAA,CAAA,CAAA,EAAA,GAAA,CAAA,EAAoD;AAAEG,UAAAA,QAAQ,EAARA;AAAF,SAApD,CAA3C;;AACA,YAAA,UAAA,EAAgB;AACdM,UAAAA,uBAAuB;AACxB;AACF;;AAED,UAAIN,QAAQ,IAAIM,uBAAuB,KAAvC,WAAA,EAAyD;AACvDd,QAAAA,gBAAgB,CAAhBA,IAAAA,CAAAA,KAAAA,CAAAA,gBAAAA,EAAAA,cAAAA;AACD;;AAED,UAAIc,uBAAuB,KAA3B,WAAA,EAA6C;AAC3C,eAAOJ,SAAS,CAAA,kBAAA,CAAA,CAAA,CAAA,EAAA,kBAAA,CAAA,CAAA,CAAA,EAAA,gBAAA,EAAA,UAAA,EAA+CpB,SAAS,CAAxE,UAAgB,CAAhB;AACD;;AAED,aAAOoB,SAAS,CAAA,kBAAA,CAAA,CAAA,CAAA,EAAA,kBAAA,CAAA,CAAA,CAAA,EAAA,gBAAA,EAAA,UAAA,EAA+CpB,SAAS,CAAxE,SAAgB,CAAhB;AACD;;AAED,QAAI4B,MAAAA,CAAAA,KAAAA,CAAAA,CAAAA,KAAYA,MAAAA,CAAAA,KAAAA,CAAhB,CAAgBA,CAAhB,EAA0B;AACxB,UAAIT,CAAC,CAADA,IAAAA,KAAWJ,CAAC,CAAhB,IAAA,EAAuB;AACrB,eAAOK,SAAS,CAAC,IAAA,GAAA,CAAD,CAAC,CAAD,EAAa,IAAA,GAAA,CAAb,CAAa,CAAb,EAAA,gBAAA,EAAA,UAAA,EAAuDpB,SAAS,CAAhF,SAAgB,CAAhB;AACD;;AAHuB,UAAA,SAAA,GAAA,0BAAA,CAAA,CAAA,CAAA;AAAA,UAAA,KAAA;;AAAA,UAAA;AAKxB,aAAA,SAAA,CAAA,CAAA,EAAA,EAAA,CAAA,CAAA,KAAA,GAAA,SAAA,CAAA,CAAA,EAAA,EAAA,IAAA,GAAsB;AAAA,cAAX6B,IAAW,GAAA,KAAA,CAAA,KAAA;;AACpB,cAAI,CAACd,CAAC,CAADA,GAAAA,CAAL,IAAKA,CAAL,EAAkB;AAChB,mBAAOK,SAAS,CAAC,IAAA,GAAA,CAAD,CAAC,CAAD,EAAa,IAAA,GAAA,CAAb,CAAa,CAAb,EAAA,gBAAA,EAAA,UAAA,EAAuDpB,SAAS,CAAhF,SAAgB,CAAhB;AACD;AACF;AATuB,OAAA,CAAA,OAAA,GAAA,EAAA;AAAA,QAAA,SAAA,CAAA,CAAA,CAAA,GAAA;AAAA,OAAA,SAAA;AAAA,QAAA,SAAA,CAAA,CAAA;AAAA;;AAWxB,aAAOoB,SAAS,CAAC,IAAA,GAAA,CAAD,CAAC,CAAD,EAAa,IAAA,GAAA,CAAb,CAAa,CAAb,EAAA,gBAAA,EAAA,UAAA,EAAuDpB,SAAS,CAAhF,UAAgB,CAAhB;AACD;;AAED,QAAI8B,MAAAA,CAAAA,MAAAA,CAAAA,CAAAA,KAAaA,MAAAA,CAAAA,MAAAA,CAAjB,CAAiBA,CAAjB,EAA4B;AAC1B,aAAOX,CAAC,CAADA,OAAAA,OAAgBJ,CAAC,CAAjBI,OAAgBJ,EAAhBI,GACLC,SAAS,CAAC,IAAA,IAAA,CAAD,CAAC,CAAD,EAAc,IAAA,IAAA,CAAd,CAAc,CAAd,EAAA,gBAAA,EAAA,UAAA,EAAyDpB,SAAS,CADtEmB,IACI,CADJA,GAELC,SAAS,CAAC,IAAA,IAAA,CAAD,CAAC,CAAD,EAAc,IAAA,IAAA,CAAd,CAAc,CAAd,EAAA,gBAAA,EAAA,UAAA,EAAyDpB,SAAS,CAF7E,SAEW,CAFX;AAGD;;AAED,QAAI+B,MAAAA,CAAAA,QAAAA,CAAAA,CAAAA,KAAeA,MAAAA,CAAAA,QAAAA,CAAnB,CAAmBA,CAAnB,EAAgC;AAC9B,aAAOZ,CAAC,CAADA,QAAAA,OAAiBJ,CAAC,CAAlBI,QAAiBJ,EAAjBI,GACLC,SAAS,CAAA,CAAA,EAAA,CAAA,EAAA,gBAAA,EAAA,UAAA,EAAqCpB,SAAS,CADlDmB,KACI,CADJA,GAELC,SAAS,CAAA,CAAA,EAAA,CAAA,EAAA,gBAAA,EAAA,UAAA,EAAqCpB,SAAS,CAFzD,SAEW,CAFX;AAGD;;AAED,QAAIM,cAAc,IAAIa,CAAC,YAAnBb,OAAAA,IAA0CS,CAAC,YAA/C,OAAA,EAAoE;AAClE,aAAOK,SAAS,CAAA,CAAA,EAAA,CAAA,EAAA,gBAAA,EAAA,UAAA,EAAqCpB,SAAS,CAA9D,SAAgB,CAAhB;AACD;;AAED,QAAIQ,cAAc,CAAdA,CAAc,CAAdA,IAAqBA,cAAc,CAAvC,CAAuC,CAAvC,EAA4C;AAC1C,UAAIW,CAAC,CAADA,IAAAA,KAAWJ,CAAC,CAAhB,IAAA,EAAuB;AACrB,eAAOK,SAAS,CAAA,CAAA,EAAA,CAAA,EAAA,gBAAA,EAAA,UAAA,EAAqCpB,SAAS,CAA9D,SAAgB,CAAhB;AACD;;AAED,UAAMgC,6BAA6B,GACjCL,wBAAwB,CAACR,CAAC,CAAF,KAAA,EAAUJ,CAAC,CAAX,KAAA,EAAA,EAAA,EAAA,GAAA,MAAA,CAAA,UAAA,EAAA,QAAA,CAAA,EAA8C;AAAEG,QAAAA,QAAQ,EAARA;AAAF,OAA9C,CAD1B;AAGA,aAAOc,6BAA6B,GAClCZ,SAAS,CAAA,CAAA,EAAA,CAAA,EAAA,gBAAA,EAAA,UAAA,EAAqCpB,SAAS,CADrB,YACzB,CADyB,GAElCoB,SAAS,CAAA,CAAA,EAAA,CAAA,EAAA,gBAAA,EAAA,UAAA,EAAqCpB,SAAS,CAFzD,SAEW,CAFX;AAGD;;AAED,QAAIiC,MAAAA,CAAAA,UAAAA,CAAAA,CAAAA,KAAiBA,MAAAA,CAAAA,UAAAA,CAArB,CAAqBA,CAArB,EAAoC;AAClC,UAAId,CAAC,CAADA,IAAAA,KAAWJ,CAAC,CAAhB,IAAA,EAAuB;AACrB,eAAOK,SAAS,CAAA,CAAA,EAAA,CAAA,EAAA,gBAAA,EAAA,UAAA,EAAqCpB,SAAS,CAA9D,SAAgB,CAAhB;AACD;;AAED,UAAMkC,gBAAgB,GAAGjB,eAAe,CAAfA,GAAAA,CAAzB,CAAyBA,CAAzB;AACA,UAAMkB,gBAAgB,GAAGlB,eAAe,CAAfA,GAAAA,CAAzB,CAAyBA,CAAzB;;AAEA,UAAIiB,gBAAgB,IAApB,gBAAA,EAA0C;AACxC,YAAME,wBAAwB,GAC5BT,wBAAwB,CAACO,gBAAgB,CAAjB,IAAA,EAAwBC,gBAAgB,CAAxC,IAAA,EAAA,gBAAA,EAAA,GAAA,MAAA,CAAA,UAAA,EAAA,eAAA,EAAA,MAAA,CAA8FD,gBAAgB,CAA9G,QAAA,EAAA,OAAA,CAAA,EAAgI;AAAEhB,UAAAA,QAAQ,EAARA;AAAF,SAAhI,CAD1B;AAGA,eAAOkB,wBAAwB,GAC7BhB,SAAS,CAAA,CAAA,EAAA,CAAA,EAAA,gBAAA,EAAA,UAAA,EAAqCpB,SAAS,CAD1B,UAC0B,CAA9C,CADoB,GAE7BoB,SAAS,CAAA,CAAA,EAAA,CAAA,EAAA,gBAAA,EAAA,UAAA,EAAqCpB,SAAS,CAFzD,SAEW,CAFX;AAGD;;AAED,aAAOoB,SAAS,CAAA,CAAA,EAAA,CAAA,EAAA,gBAAA,EAAA,UAAA,EAAqCpB,SAAS,CAA9D,UAA8D,CAA9C,CAAhB;AACD;;AAED,QAAI,OAAA,CAAA,CAAA,CAAA,KAAA,QAAA,IAAyB,OAAA,CAAA,CAAA,CAAA,KAAzB,QAAA,IAAkDgB,MAAM,CAANA,cAAAA,CAAAA,CAAAA,MAA6BA,MAAM,CAANA,cAAAA,CAAnF,CAAmFA,CAAnF,EAA6G;AAC3G,UAAMqB,KAAK,GAAGrB,MAAM,CAANA,mBAAAA,CAAd,CAAcA,CAAd;AACA,UAAMsB,KAAK,GAAGtB,MAAM,CAANA,mBAAAA,CAAd,CAAcA,CAAd;AAEA,UAAMuB,OAAO,GAAGC,MAAAA,CAAAA,IAAAA,CAAI,GAAA,MAAA,CAAA,kBAAA,CAAA,KAAA,CAAA,EAAA,kBAAA,CAApB,KAAoB,CAAA,CAAJA,CAAhB;AAEA,UAAMC,OAAO,GAAGC,MAAAA,CAAAA,aAAAA,CAAAA,CAAAA,IAAAA,cAAAA,CAAAA,EAAAA,EAAAA,CAAAA,CAAAA,GAAhB,CAAA;AACA,UAAMC,OAAO,GAAGD,MAAAA,CAAAA,aAAAA,CAAAA,CAAAA,IAAAA,cAAAA,CAAAA,EAAAA,EAAAA,CAAAA,CAAAA,GAAhB,CAAA;;AAEA,UAAIH,OAAO,CAAPA,MAAAA,KAAmBF,KAAK,CAAxBE,MAAAA,IAAmCA,OAAO,CAAPA,MAAAA,KAAmBD,KAAK,CAA/D,MAAA,EAAwE;AACtE,eAAOlB,SAAS,CAAA,OAAA,EAAA,OAAA,EAAA,gBAAA,EAAA,UAAA,EAAiDpB,SAAS,CAA1E,SAAgB,CAAhB;AACD;;AAED,UAAM4C,YAAY,GAAG,OAAO,CAAP,MAAA,CAAe,UAAA,GAAA,EAAO;AACzC;AACA,YAAIC,GAAG,KAAHA,OAAAA,IAAmBC,MAAAA,CAAAA,OAAAA,CAAvB,CAAuBA,CAAvB,EAAmC;AACjC,iBAAA,KAAA;AAHuC,SAAA,CAAA;AAOzC;;;AACA,YAAIC,QAAQ,CAAA,CAAA,EAAZ,GAAY,CAAZ,EAAsB;AACpB,iBAAA,KAAA;AACD;;AAED,eAAA,IAAA;AAZF,OAAqB,CAArB;AAeA,UAAMC,UAAU,GAAGJ,YAAY,CAA/B,MAAA;;AAEA,WAAK,IAAInB,EAAC,GAAV,UAAA,EAAyBA,EAAzB,EAAA,EAA8BA,EAAC,GAA/B,CAAA,EAAqC;AACnC,YAAI,CAACwB,MAAAA,CAAAA,GAAAA,CAAG,CAAHA,EAAOL,YAAY,CAAxB,EAAwB,CAAnBK,CAAL,EAA8B;AAC5B,iBAAO7B,SAAS,CAAA,OAAA,EAAA,OAAA,EAAA,gBAAA,EAAA,UAAA,EAAiDpB,SAAS,CAA1E,SAAgB,CAAhB;AACD;AACF;;AAED,UAAMkD,iBAAiB,GAAvB,EAAA;AACA,UAAIC,8BAA8B,GAAlC,CAAA;;AACA,WAAK,IAAI1B,GAAC,GAAV,UAAA,EAAyBA,GAAzB,EAAA,EAA8BA,GAAC,GAA/B,CAAA,EAAqC;AACnC,YAAMoB,GAAG,GAAGD,YAAY,CAAxB,GAAwB,CAAxB;AACA,YAAMQ,UAAU,GAAGzB,wBAAwB,CAACR,CAAC,CAAF,GAAE,CAAF,EAASJ,CAAC,CAAV,GAAU,CAAV,EAAA,iBAAA,EAAA,GAAA,MAAA,CAAA,UAAA,EAAA,GAAA,EAAA,MAAA,CAAA,GAAA,CAAA,EAA4D;AAAEG,UAAAA,QAAQ,EAARA;AAAF,SAA5D,CAA3C;;AACA,YAAA,UAAA,EAAgB;AACdiC,UAAAA,8BAA8B;AAC/B;AACF;;AAED,UAAIjC,QAAQ,IAAIiC,8BAA8B,KAA9C,UAAA,EAA+D;AAC7DzC,QAAAA,gBAAgB,CAAhBA,IAAAA,CAAAA,KAAAA,CAAAA,gBAAAA,EAAAA,iBAAAA;AACD;;AAED,UAAIyC,8BAA8B,KAAlC,UAAA,EAAmD;AACjD,eAAO/B,SAAS,CAAA,OAAA,EAAA,OAAA,EAAA,gBAAA,EAAA,UAAA,EAAiDpB,SAAS,CAA1E,UAAgB,CAAhB;AACD;;AAED,aAAOoB,SAAS,CAAA,OAAA,EAAA,OAAA,EAAA,gBAAA,EAAA,UAAA,EAAiDpB,SAAS,CAA1E,SAAgB,CAAhB;AACD;;AAED,WAAOoB,SAAS,CAAA,CAAA,EAAA,CAAA,EAAA,gBAAA,EAAA,UAAA,EAAqCpB,SAAS,CAA9D,SAAgB,CAAhB;AACD;;AAEc,WAAA,uBAAA,CAAA,CAAA,EAAA,CAAA,EAAA,iBAAA,EAAqF;AAAA,QAAA,KAAA,GAAA,SAAA,CAAA,MAAA,GAAA,CAAA,IAAA,SAAA,CAAA,CAAA,CAAA,KAAA,SAAA,GAAA,SAAA,CAAA,CAAA,CAAA,GAAJ,EAAI;AAAA,QAAA,cAAA,GAAA,KAAA,CAAzBkB,QAAyB;AAAA,QAAzBA,QAAyB,GAAA,cAAA,KAAA,KAAA,CAAA,GAAd,KAAc,GAAA,cAAA;;AAClG,QAAI;AACF,UAAMmC,KAAK,GAAX,EAAA;AACA1B,MAAAA,wBAAwB,CAAA,CAAA,EAAA,CAAA,EAAA,KAAA,EAAA,iBAAA,EAAiC;AAAET,QAAAA,QAAQ,EAARA;AAAF,OAAjC,CAAxBS;AACA,aAAA,KAAA;AAHF,KAAA,CAIE,OAAA,KAAA,EAAc;AACd,UAAK2B,KAAK,CAALA,OAAAA,IAAiBA,KAAK,CAALA,OAAAA,CAAAA,KAAAA,CAAlB,kBAAkBA,CAAjBA,IAA8DA,KAAK,CAALA,MAAAA,KAAiB,CAApF,UAAA,EAAkG;AAChG;AACA;AACA;AACA;AACA;AACA;AACAC,QAAAA,OAAO,CAAPA,IAAAA,CAAAA,4EAAAA,EAA2FD,KAAK,CAAhGC,IAAAA,EAAuGD,KAAK,CAA5GC,OAAAA;AACA,eAAA,KAAA;AACD;;AACD,YAAA,KAAA;AACD;AACF;;ACpNc,WAAA,SAAA,CAAA,MAAA,EAAA,MAAA,EAAA,IAAA,EAA+D;AAAA,QAA1B3C,UAA0B,GAAA,IAAA,CAA1BA,UAA0B;AAAA,QAAd4C,UAAc,GAAA,IAAA,CAAdA,UAAc;AAC5E,QAAMH,KAAK,GAAGI,uBAAuB,CAAA,MAAA,EAAA,MAAA,EAAA,UAAA,EAA6B;AAAEvC,MAAAA,QAAQ,EAAE;AAAZ,KAA7B,CAArC;AAEA,QAAM8B,UAAU,GAAG,IAAI,CAAJ,GAAA,CAAA,KAAA,CAAA,IAAA,EAAI,kBAAA,CAAQ,KAAK,CAAL,GAAA,CAAU,UAAA,IAAA,EAAI;AAAA,aAAIU,IAAI,CAAJA,UAAAA,CAAJ,MAAA;AAA1B,KAAY,CAAR,CAAJ,IAAnB,CAAA;AAEA1C,IAAAA,MAAM,CAANA,OAAAA,CAAe2C,MAAAA,CAAAA,OAAAA,CAAQC,MAAAA,CAAAA,MAAAA,CAAM,KAANA,EAAD,YAACA,CAARD,EAAf3C,UAAe2C,CAAf3C,EAAAA,OAAAA,CACW,UAAA,KAAA,EAAuB;AAAA,UAAA,KAAA,GAAA,cAAA,CAAA,KAAA,EAAA,CAAA,CAAA;AAAA,UAArBL,QAAqB,GAAA,KAAA,CAAA,CAAA,CAAA;AAAA,UAAX0C,KAAW,GAAA,KAAA,CAAA,CAAA,CAAA;;AAC9BG,MAAAA,UAAU,CAAA,KAAA,MAAA,CAAMvD,qBAAqB,CAA3B,QAA2B,CAA3B,EAAA,GAAA,CAAA,EAAVuD,0CAAU,CAAVA;AACAH,MAAAA,KAAK,CAALA,OAAAA,CAAc,UAAA,IAAA,EAAQ;AACpBG,QAAAA,UAAU,CAAC,GAAA,MAAA,CAAGE,IAAI,CAAP,UAAA,EAAA,GAAA,EAAA,MAAA,CAAA,UAAA,EAAD,GAAC,CAAD,EAAgDA,IAAI,CAA9DF,SAAU,CAAVA;AADFH,OAAAA;AAHJrC,KAAAA;AAOD;;ACZD,MAAM6C,WAAW,GAAjB,sBAAA;AACA,MAAMC,gBAAgB,GAAtB,qBAAA;AAEA,MAAIC,WAAW,GAAf,KAAA;;AAEA,WAAA,SAAA,CAAA,MAAA,EAAA,SAAA,EAAsC;AACpC,QAAA,WAAA,EAAiB;AACf,aAAA,KAAA;AACD;;AAED,QAAIxE,SAAS,CAATA,OAAAA,CAAJ,oBAAA,EAA4C;AAC1C,aAAA,IAAA;AACD;;AAED,QAAIyE,SAAS,CAATA,eAAAA,IAA6BA,SAAS,CAATA,eAAAA,CAAjC,oBAAA,EAAiF;AAC/E,aAAA,IAAA;AACD;;AAED,QAAMC,kBAAkB,GACtBC,MAAM,CAANA,gBAAAA,IACA,MAAM,CAAN,gBAAA,CAAA,IAAA,CAA6B,UAAA,IAAA,EAAI;AAAA,aAAIR,IAAI,CAAJA,QAAAA,KAAkB1D,SAAS,CAA/B,SAAA;AAFP,KAE1B,CADAkE,IAGAA,MAAM,CAANA,gBAAAA,IACA,MAAM,CAAN,gBAAA,CAAA,IAAA,CAA6B,UAAA,IAAA,EAAI;AAAA,aAAIR,IAAI,CAAJA,QAAAA,KAAkB1D,SAAS,CAA/B,SAAA;AALP,KAK1B,CAJAkE,IAMAA,MAAM,CAANA,eAAAA,IACA,MAAM,CAAN,eAAA,CAAA,IAAA,CAA4B,UAAA,IAAA,EAAI;AAAA,aAAIR,IAAI,CAAJA,QAAAA,KAAkB1D,SAAS,CAA/B,SAAA;AARlC,KAQE,CARF;AAWA,WAAO,CAAP,kBAAA;AACD;;AAED,WAAA,aAAA,CAAA,IAAA,EAA8G;AAAA,QAArFgE,SAAqF,GAAA,IAAA,CAArFA,SAAqF;AAAA,QAA1EG,WAA0E,GAAA,IAAA,CAA1EA,WAA0E;AAAA,QAA7DC,QAA6D,GAAA,IAAA,CAA7DA,QAA6D;AAAA,QAAnDC,aAAmD,GAAA,IAAA,CAAnDA,aAAmD;AAAA,QAApCC,WAAoC,GAAA,IAAA,CAApCA,WAAoC;AAAA,QAAvBC,WAAuB,GAAA,IAAA,CAAvBA,WAAuB;AAAA,QAAVC,MAAU,GAAA,IAAA,CAAVA,MAAU;;AAC5G,QAAID,WAAW,IAAIA,WAAW,CAAXA,MAAAA,GAAnB,CAAA,EAA2C;AACzChF,MAAAA,SAAS,CAATA,OAAAA,CAAAA,UAAAA,CAAAA,eAAAA,CAAAA,EAAAA,EAAAA,WAAAA,EAAAA,SAAAA,CAAAA,EAAAA,GAAAA,MAAAA,CAAAA,aAAAA,EAAAA,MAAAA,EAAAA,MAAAA,CAAAA,WAAAA,EAAAA,WAAAA,CAAAA;AACAgF,MAAAA,WAAW,CAAXA,OAAAA,CAAoB,UAAA,KAAA,EAAoD;AAAA,YAAjD3D,UAAiD,GAAA,KAAA,CAAjDA,UAAiD;AAAA,YAArCD,QAAqC,GAAA,KAAA,CAArCA,QAAqC;AAAA,YAA3BE,SAA2B,GAAA,KAAA,CAA3BA,SAA2B;AAAA,YAAhBC,SAAgB,GAAA,KAAA,CAAhBA,SAAgB;;AACtE,iBAAA,MAAA,GAAkB;AAChB2D,UAAAA,SAAS,CAAA,SAAA,EAAA,SAAA,EAAuB;AAAE7D,YAAAA,UAAU,EAAZ,UAAA;AAAc4C,YAAAA,UAAU,EAAEjE,SAAS,CAATA,OAAAA,CAAkBiE;AAA5C,WAAvB,CAATiB;AACD;;AACDlF,QAAAA,SAAS,CAATA,OAAAA,CAAAA,YAAAA,CAAAA,KAAAA,MAAAA,CACO+E,WAAW,KAAXA,MAAAA,GAAAA,SAAAA,MAAAA,CAAAA,QAAAA,EAAAA,UAAAA,CAAAA,GAAAA,GAAAA,MAAAA,CAAAA,WAAAA,EADP/E,GACO+E,CADP/E,EAAAA,IAAAA,EAAAA,MAAAA,CAAAA,UAAAA,EAAAA,IAAAA,CAAAA,EAAAA,SAAAA,MAAAA,CAEWA,SAAS,CAATA,OAAAA,CAFXA,aAAAA,EAAAA,GAAAA,CAAAA,EAAAA,SAAAA,MAAAA,CAEwDA,SAAS,CAATA,OAAAA,CAFxDA,aAAAA,EAAAA,GAAAA,CAAAA,EAAAA,gBAAAA;AAIAA,QAAAA,SAAS,CAATA,OAAAA,CAAAA,UAAAA,CAAAA,GAAAA,MAAAA,CACKU,qBAAqB,CAD1BV,QAC0B,CAD1BA,EAAAA,kBAAAA,EAAAA,MAAAA,CACuD6E,QAAQ,GAAA,gBAAA,GAD/D7E,WAAAA,EAAAA,GAAAA,CAAAA;AAGAA,QAAAA,SAAS,CAATA,OAAAA,CAAAA,UAAAA,CAAAA,eAAAA,CAAAA,EAAAA,EAAAA,QAAAA,MAAAA,CAAAA,UAAAA,CAAAA,EAAAA,SAAAA,CAAAA,EAAAA,KAAAA,EAAAA,eAAAA,CAAAA,EAAAA,EAAAA,QAAAA,MAAAA,CAAAA,UAAAA,CAAAA,EAAAA,SAAAA,CAAAA;;AACA,YAAIoB,QAAQ,KAAKX,SAAS,CAA1B,UAAA,EAAuC;AACrCT,UAAAA,SAAS,CAATA,OAAAA,CAAAA,UAAAA,CAA6B;AAAE,0FAA8EmF;AAAhF,WAA7BnF;AACD;;AACDA,QAAAA,SAAS,CAATA,OAAAA,CAAAA,eAAAA;AAfFgF,OAAAA;AAFF,KAAA,MAoBK,IAAA,WAAA,EAAiB;AACpBhF,MAAAA,SAAS,CAATA,OAAAA,CAAAA,UAAAA,CAAAA,eAAAA,CAAAA,EAAAA,EAAAA,WAAAA,EAAAA,SAAAA,CAAAA,EAAAA,GAAAA,MAAAA,CAAAA,aAAAA,EAAAA,OAAAA,EAAAA,MAAAA,CAAAA,WAAAA,EAAAA,sDAAAA,CAAAA,EAGE+E,WAAW,KAAXA,OAAAA,GAAAA,2GAAAA,GAHF/E,mGAAAA,EAAAA,gBAAAA,MAAAA,CAAAA,WAAAA,CAAAA;AAQAA,MAAAA,SAAS,CAATA,OAAAA,CAAAA,UAAAA,CAAAA,QAAAA,MAAAA,CAAAA,WAAAA,EAAAA,GAAAA,CAAAA,EAAqDiF,MAAM,CAA3DjF,IAAAA,EAAAA,OAAAA,EAA2EiF,MAAM,CAAjFjF,IAAAA,EAAAA,SAAAA,MAAAA,CAAAA,WAAAA,CAAAA;AACD;AACF;;AAEc,WAAA,eAAA,CAAA,UAAA,EAAqC;AAClD,QAAQyE,SAAR,GAAqHiB,UAArH,CAAA,SAAA;AAAA,QAAmBd,WAAnB,GAAqHc,UAArH,CAAA,WAAA;AAAA,QAAgCb,QAAhC,GAAqHa,UAArH,CAAA,QAAA;AAAA,QAA0CN,SAA1C,GAAqHM,UAArH,CAAA,SAAA;AAAA,QAAqDL,SAArD,GAAqHK,UAArH,CAAA,SAAA;AAAA,QAAgEJ,QAAhE,GAAqHI,UAArH,CAAA,QAAA;AAAA,QAA0EH,SAA1E,GAAqHG,UAArH,CAAA,SAAA;AAAA,QAAqFF,SAArF,GAAqHE,UAArH,CAAA,SAAA;AAAA,QAAgGD,QAAhG,GAAqHC,UAArH,CAAA,QAAA;AAAA,QAA0Gf,MAA1G,GAAqHe,UAArH,CAAA,MAAA;;AAEA,QAAI,CAACC,SAAS,CAAA,MAAA,EAAA,SAAA,EAAoB3F,SAAS,CAA3C,OAAc,CAAd,EAAsD;AACpD;AACD;;AAEDA,IAAAA,SAAS,CAATA,OAAAA,CAAAA,YAAAA,CAAAA,KAAAA,MAAAA,CAAAA,WAAAA,CAAAA,EAAAA,UAAAA,MAAAA,CAA6DA,SAAS,CAATA,OAAAA,CAA7DA,UAAAA,EAAAA,GAAAA,CAAAA;AAEA,QAAI8E,aAAa,GAAjB,qBAAA;;AAEA,QAAIH,MAAM,CAAV,gBAAA,EAA6B;AAC3BiB,MAAAA,aAAa,CAAC;AACZnB,QAAAA,SAAS,EADG,SAAA;AAEZG,QAAAA,WAAW,EAFC,WAAA;AAGZE,QAAAA,aAAa,EAHD,aAAA;AAIZC,QAAAA,WAAW,EAJC,OAAA;AAKZC,QAAAA,WAAW,EAAEL,MAAM,CALP,gBAAA;AAMZM,QAAAA,MAAM,EAAE;AAAEY,UAAAA,IAAI,EAAN,SAAA;AAAmBC,UAAAA,IAAI,EAAEP;AAAzB;AANI,OAAD,CAAbK;AAQAd,MAAAA,aAAa,GAAbA,aAAAA;AACD;;AAED,QAAIH,MAAM,CAAV,gBAAA,EAA6B;AAC3BiB,MAAAA,aAAa,CAAC;AACZnB,QAAAA,SAAS,EADG,SAAA;AAEZG,QAAAA,WAAW,EAFC,WAAA;AAGZE,QAAAA,aAAa,EAHD,aAAA;AAIZC,QAAAA,WAAW,EAJC,OAAA;AAKZC,QAAAA,WAAW,EAAEL,MAAM,CALP,gBAAA;AAMZM,QAAAA,MAAM,EAAE;AAAEY,UAAAA,IAAI,EAAN,SAAA;AAAmBC,UAAAA,IAAI,EAAEN;AAAzB;AANI,OAAD,CAAbI;AAQD;;AAED,QAAIjB,MAAM,CAAV,eAAA,EAA4B;AAC1BiB,MAAAA,aAAa,CAAC;AACZnB,QAAAA,SAAS,EADG,SAAA;AAEZG,QAAAA,WAAW,EAFC,WAAA;AAGZE,QAAAA,aAAa,EAHD,aAAA;AAIZC,QAAAA,WAAW,EAJC,MAAA;AAKZC,QAAAA,WAAW,EAAEL,MAAM,CALP,eAAA;AAMZM,QAAAA,MAAM,EAAE;AAAEY,UAAAA,IAAI,EAAN,QAAA;AAAkBC,UAAAA,IAAI,EAAEL;AAAxB,SANI;AAOZZ,QAAAA,QAAQ,EAARA;AAPY,OAAD,CAAbe;AASD;;AAED,QAAIjB,MAAM,CAANA,gBAAAA,IAA2BA,MAAM,CAArC,gBAAA,EAAwD;AACtD,UAAMoB,aAAa,GAAG/F,SAAS,CAATA,YAAAA,CAAAA,GAAAA,CAAtB,SAAsBA,CAAtB;AACA,UAAMgG,aAAa,GAAGhG,SAAS,CAATA,YAAAA,CAAAA,GAAAA,CAAtB,SAAsBA,CAAtB;AAEAA,MAAAA,SAAS,CAATA,OAAAA,CAAAA,YAAAA,CAAAA,eAAAA,MAAAA,CAA8CgG,aAAa,CAA3DhG,WAAAA,CAAAA;AACA,UAAI8E,cAAa,GAAjB,qBAAA;;AAEA,UAAIH,MAAM,CAANA,gBAAAA,CAAJ,gBAAA,EAA8C;AAC5CiB,QAAAA,aAAa,CAAC;AACZnB,UAAAA,SAAS,EAAEuB,aAAa,CADZ,SAAA;AAEZpB,UAAAA,WAAW,EAAEoB,aAAa,CAFd,WAAA;AAGZlB,UAAAA,aAAa,EAHD,cAAA;AAIZC,UAAAA,WAAW,EAJC,OAAA;AAKZC,UAAAA,WAAW,EAAEL,MAAM,CAANA,gBAAAA,CALD,gBAAA;AAMZM,UAAAA,MAAM,EAAE;AAAEY,YAAAA,IAAI,EAAEE,aAAa,CAArB,KAAA;AAA6BD,YAAAA,IAAI,EAAEE,aAAa,CAACC;AAAjD;AANI,SAAD,CAAbL;AAQAd,QAAAA,cAAa,GAAbA,aAAAA;AACD;;AAED,UAAIH,MAAM,CAANA,gBAAAA,CAAJ,gBAAA,EAA8C;AAC5CiB,QAAAA,aAAa,CAAC;AACZnB,UAAAA,SAAS,EAAEuB,aAAa,CADZ,SAAA;AAEZpB,UAAAA,WAAW,EAAEoB,aAAa,CAFd,WAAA;AAGZlB,UAAAA,aAAa,EAHD,cAAA;AAIZC,UAAAA,WAAW,EAJC,OAAA;AAKZC,UAAAA,WAAW,EAAEL,MAAM,CAANA,gBAAAA,CALD,gBAAA;AAMZM,UAAAA,MAAM,EAAE;AAAEY,YAAAA,IAAI,EAAEE,aAAa,CAArB,KAAA;AAA6BD,YAAAA,IAAI,EAAEE,aAAa,CAACE;AAAjD;AANI,SAAD,CAAbN;AAQD;;AAED,UAAIjB,MAAM,CAANA,gBAAAA,CAAJ,eAAA,EAA6C;AAC3CA,QAAAA,MAAM,CAANA,gBAAAA,CAAAA,eAAAA,CAAAA,OAAAA,CAAgD,UAAA,KAAA,EAAA,CAAA,EAAA;AAAA,cAAGE,QAAH,GAAA,KAAA,CAAA,QAAA;AAAA,cAAaG,WAAb,GAAA,KAAA,CAAA,WAAA;AAAA,iBAC9CY,aAAa,CAAC;AACZnB,YAAAA,SAAS,EAAEuB,aAAa,CADZ,SAAA;AAEZpB,YAAAA,WAAW,EAAEoB,aAAa,CAFd,WAAA;AAGZlB,YAAAA,aAAa,EAHD,cAAA;AAIZC,YAAAA,WAAW,EAJC,MAAA;AAKZC,YAAAA,WAAW,EALC,WAAA;AAMZC,YAAAA,MAAM,EAAE;AAAEY,cAAAA,IAAI,EAAEE,aAAa,CAAbA,KAAAA,CAAAA,CAAAA,EAAR,MAAA;AAAuCD,cAAAA,IAAI,EAAEE,aAAa,CAAbA,KAAAA,CAAAA,CAAAA,EAAuBG;AAApE,aANI;AAOZtB,YAAAA,QAAQ,EAARA;AAPY,WAAD,CADiC;AAAhDF,SAAAA;AAWD;;AACD3E,MAAAA,SAAS,CAATA,OAAAA,CAAAA,eAAAA;AACD;;AAED,QAAI,CAAC2E,MAAM,CAAP,gBAAA,IAA4B,CAACA,MAAM,CAAnC,gBAAA,IAAwD,CAACA,MAAM,CAAnE,eAAA,EAAqF;AACnF3E,MAAAA,SAAS,CAATA,OAAAA,CAAAA,UAAAA,CAAAA,eAAAA,CAAAA,EAAAA,EAAAA,WAAAA,EAAAA,SAAAA,CAAAA,EAAAA,4DAAAA,EAAAA,iFAAAA,EAAAA,gBAAAA,MAAAA,CAAAA,WAAAA,CAAAA;AAMD;;AAEDA,IAAAA,SAAS,CAATA,OAAAA,CAAAA,eAAAA;AACD;;AAEM,WAAA,qBAAA,CAAA,iBAAA,EAAkD;AACvD,QAAA,iBAAA,EAAuB;AACrB,UAAI,OAAA,MAAA,KAAA,WAAA,IAAkCoG,MAAM,CAAxC,GAAA,IAAgDA,MAAM,CAANA,GAAAA,CAApD,gBAAA,EAAiF;AAC/EA,QAAAA,MAAM,CAANA,GAAAA,CAAAA,gBAAAA,CAA4B,UAAA,MAAA,EAAU;AACpC,cAAIC,MAAM,KAAV,MAAA,EAAuB;AACrB7B,YAAAA,WAAW,GAAXA,IAAAA;AACA8B,YAAAA,UAAU,CAAC,YAAM;AACf9B,cAAAA,WAAW,GAAXA,KAAAA;AADQ,aAAA,EAAV8B,iBAAU,CAAVA;AAGD;AANHF,SAAAA;AAQD;AACF;;AAED,WAAA,eAAA;AACD;;AC3LD,MAAMG,OAAO,GAAG,SAAVA,OAAU,GAAM,CAAtB,CAAA;;AAEe,WAAA,gBAAA,GAA4C;AAAA,QAAlBC,WAAkB,GAAA,SAAA,CAAA,MAAA,GAAA,CAAA,IAAA,SAAA,CAAA,CAAA,CAAA,KAAA,SAAA,GAAA,SAAA,CAAA,CAAA,CAAA,GAAJ,EAAI;AACzD,QAAIC,YAAY,GAAGzC,OAAO,CAA1B,KAAA;AACA,QAAI0C,eAAe,GAAG1C,OAAO,CAA7B,QAAA;;AAEA,QAAIwC,WAAW,CAAf,cAAA,EAAgC;AAC9BC,MAAAA,YAAY,GAAGzC,OAAO,CAAtByC,cAAAA;AADF,KAAA,MAGK,IAAID,WAAW,CAAf,QAAA,EAA0B;AAC7BC,MAAAA,YAAY,GAAGzC,OAAO,CAAtByC,GAAAA;AACAC,MAAAA,eAAe,GAAfA,OAAAA;AACD;;AAED,QAAMC,QAAQ,GAAGH,WAAW,CAAXA,QAAAA,IACfI,qBAAqB,CAClB,uBAAD,WAAC,GAAsCJ,WAAW,CAAlD,iBAAC,GAFL,GACuB,CADvB;AAMA,WAAA,cAAA,CAAA;AACEK,MAAAA,OAAO,EADT,IAAA;AAEEC,MAAAA,OAAO,EAFT,IAAA;AAGEH,MAAAA,QAAQ,EAHV,QAAA;AAIEI,MAAAA,QAAQ,EAJV,KAAA;AAKE9C,MAAAA,UAAU,EAAED,OAAO,CALrB,GAAA;AAMEyC,MAAAA,YAAY,EANd,YAAA;AAOEC,MAAAA,eAAe,EAPjB,eAAA;AAQEM,MAAAA,oBAAoB,EARtB,KAAA;AASEC,MAAAA,eAAe,EATjB,IAAA;AAUEC,MAAAA,UAAU,EAVZ,IAAA;AAWEC,MAAAA,UAAU,EAXZ,MAAA;AAYEC,MAAAA,aAAa,EAZf,MAAA;AAaEC,MAAAA,aAAa,EAbf,KAAA;AAcEC,MAAAA,eAAe,EAdjB,EAAA;AAeEC,MAAAA,sBAAsB,EAAE;AAf1B,KAAA,EAAA,WAAA,CAAA;AAkBD;;ACvCc,WAAA,cAAA,CAAA,IAAA,EAA8B;AAC3C,WACEC,IAAI,CAAJA,WAAAA,IACAA,IAAI,CADJA,IAAAA,IAECA,IAAI,CAAJA,IAAAA,IAAaC,cAAc,CAACD,IAAI,CAFjCA,IAE4B,CAF5BA,IAGCA,IAAI,CAAJA,MAAAA,IAAeC,cAAc,CAACD,IAAI,CAHnCA,MAG8B,CAH9BA,KAICE,MAAAA,CAAAA,QAAAA,CAAAA,IAAAA,IAAAA,IAAAA,GALH,SACEF,CADF;AAOD;;ACVc,WAAA,eAAA,CAAA,IAAA,EAA+B;AAC5C,WACEA,IAAI,CAAJA,YAAAA,IACCA,IAAI,CAAJA,IAAAA,IAAaG,eAAe,CAACH,IAAI,CADlCA,IAC6B,CAD7BA,IAECA,IAAI,CAAJA,MAAAA,IAAeG,eAAe,CAACH,IAAI,CAFpCA,MAE+B,CAF/BA,IADF,EAAA;AAMD;;ACJD,MAAMI,WAAW,GAAjB,EAAA;;AAEe,WAAA,sBAAA,CAAA,WAAA,EAAA,WAAA,EAAmF;AAAA,QAAA,IAAA,GAAA,SAAA,CAAA,MAAA,GAAA,CAAA,IAAA,SAAA,CAAA,CAAA,CAAA,KAAA,SAAA,GAAA,SAAA,CAAA,CAAA,CAAA,GAAJ,EAAI;AAAA,QAAA,YAAA,GAAA,IAAA,CAAvBC,OAAuB;AAAA,QAAvBA,OAAuB,GAAA,YAAA,KAAA,KAAA,CAAA,GAAb,IAAa,GAAA,YAAA;;AAChG,QAAIC,WAAW,KAAf,WAAA,EAAiC;AAC/B,aAAA,KAAA;AACD;;AAED,QAAI,CAAJ,OAAA,EAAc;AACZ,aAAO5D,uBAAuB,CAAA,WAAA,EAA9B,WAA8B,CAA9B;AACD;;AAED,QAAM6D,OAAO,GAAGD,WAAW,IAA3B,WAAA;AACA,QAAME,OAAO,GAAGC,WAAW,IAA3B,WAAA;AAEA,QAAMC,iBAAiB,GAAGzG,MAAM,CAANA,IAAAA,CAAAA,cAAAA,CAAAA,cAAAA,CAAAA,EAAAA,EAAAA,OAAAA,CAAAA,EAA1B,OAA0BA,CAAAA,CAA1B;AAEA,WAAO0G,MAAAA,CAAAA,MAAAA,CAAM,iBAANA,EAA0B,UAAA,MAAA,EAAA,GAAA,EAAiB;AAChD,UAAMC,cAAc,GAAGlE,uBAAuB,CAAC6D,OAAO,CAAR,GAAQ,CAAR,EAAeC,OAAO,CAAtB,GAAsB,CAAtB,EAA9C,GAA8C,CAA9C;;AACA,UAAA,cAAA,EAAoB;AAClB7B,QAAAA,MAAM,GAAA,GAAA,MAAA,CAAA,kBAAA,CAAA,MAAA,CAAA,EAAA,kBAAA,CAANA,cAAM,CAAA,CAANA;AAID;;AACD,aAAA,MAAA;AARW,KAANgC,EAAP,EAAOA,CAAP;AAUD;;AC1BD,WAAA,mBAAA,CAAA,IAAA,EAA+D;AAAA,QAAhCpC,aAAgC,GAAA,IAAA,CAAhCA,aAAgC;AAAA,QAAjBC,aAAiB,GAAA,IAAA,CAAjBA,aAAiB;;AAC7D,QAAI,CAAA,aAAA,IAAkB,CAAtB,aAAA,EAAsC;AACpC,aAAA,KAAA;AAF2D,KAAA,CAAA;;;AAM7D,QAAMqC,kBAAkB,GAAGtC,aAAa,CAAbA,KAAAA,CAAAA,MAAAA,KAA+BC,aAAa,CAAbA,KAAAA,CAAAA,MAAAA,GAA/BD,CAAAA,GACzBA,aAAa,CAAbA,KAAAA,CAAAA,KAAAA,CAA0BA,aAAa,CAAbA,KAAAA,CAAAA,MAAAA,GADDA,CACzBA,CADyBA,GAEzBA,aAAa,CAFf,KAAA;AAIA,QAAMuC,eAAe,GAAG,kBAAkB,CAAlB,GAAA,CAAuB,UAAA,KAAA,EAAA,CAAA,EAAA;AAAA,UAAGzD,QAAH,GAAA,KAAA,CAAA,QAAA;AAAA,UAAasB,MAAb,GAAA,KAAA,CAAA,MAAA;AAAA,aAA8B;AAC3EtB,QAAAA,QAAQ,EADmE,QAAA;AAE3EG,QAAAA,WAAW,EAAEuD,sBAAsB,CAAA,MAAA,EAASvC,aAAa,CAAbA,KAAAA,CAAAA,CAAAA,EAAT,MAAA,EAAwC;AAAE6B,UAAAA,OAAO,EAAE;AAAX,SAAxC;AAFwC,OAA9B;AAA/C,KAAwB,CAAxB;AAKA,WAAO;AACLW,MAAAA,gBAAgB,EAAED,sBAAsB,CAACxC,aAAa,CAAd,KAAA,EAAsBC,aAAa,CADtE,KACmC,CADnC;AAELyC,MAAAA,gBAAgB,EAAEF,sBAAsB,CAACxC,aAAa,CAAd,KAAA,EAAsBC,aAAa,CAFtE,KAEmC,CAFnC;AAGLsC,MAAAA,eAAe,EAAEA,eAAe,CAAfA,MAAAA,GAAAA,CAAAA,GAAAA,eAAAA,GAA+C;AAH3D,KAAP;AAKD;;AAED,WAAA,eAAA,CAAA,SAAA,EAAA,SAAA,EAAA,QAAA,EAAA,SAAA,EAAA,SAAA,EAAA,QAAA,EAAyF;AACvF,QAAMvC,aAAa,GAAG/F,SAAS,CAATA,YAAAA,CAAAA,GAAAA,CAAtB,SAAsBA,CAAtB;AACA,QAAMgG,aAAa,GAAGhG,SAAS,CAATA,YAAAA,CAAAA,GAAAA,CAAtB,SAAsBA,CAAtB;AAEA,WAAO;AACLwI,MAAAA,gBAAgB,EAAED,sBAAsB,CAAA,SAAA,EADnC,SACmC,CADnC;AAELE,MAAAA,gBAAgB,EAAEF,sBAAsB,CAAA,SAAA,EAFnC,SAEmC,CAFnC;AAGLD,MAAAA,eAAe,EAAEC,sBAAsB,CAAA,QAAA,EAAA,QAAA,EAAqB;AAAEV,QAAAA,OAAO,EAAE;AAAX,OAArB,CAHlC;AAILa,MAAAA,gBAAgB,EAAEC,mBAAmB,CAAC;AAAE5C,QAAAA,aAAa,EAAf,aAAA;AAAiBC,QAAAA,aAAa,EAAbA;AAAjB,OAAD;AAJhC,KAAP;AAMD;;AAEc,WAAA,aAAA,CAAA,KAAA,EAA6H;AAAA,QAApGvB,SAAoG,GAAA,KAAA,CAApGA,SAAoG;AAAA,QAAzFG,WAAyF,GAAA,KAAA,CAAzFA,WAAyF;AAAA,QAA5EC,QAA4E,GAAA,KAAA,CAA5EA,QAA4E;AAAA,QAAlEO,SAAkE,GAAA,KAAA,CAAlEA,SAAkE;AAAA,QAAvDC,SAAuD,GAAA,KAAA,CAAvDA,SAAuD;AAAA,QAA5CC,QAA4C,GAAA,KAAA,CAA5CA,QAA4C;AAAA,QAAlCC,SAAkC,GAAA,KAAA,CAAlCA,SAAkC;AAAA,QAAvBC,SAAuB,GAAA,KAAA,CAAvBA,SAAuB;AAAA,QAAZC,QAAY,GAAA,KAAA,CAAZA,QAAY;AAC1I,WAAO;AACLhB,MAAAA,SAAS,EADJ,SAAA;AAELG,MAAAA,WAAW,EAFN,WAAA;AAGLC,MAAAA,QAAQ,EAHH,QAAA;AAILO,MAAAA,SAAS,EAJJ,SAAA;AAKLC,MAAAA,SAAS,EALJ,SAAA;AAMLC,MAAAA,QAAQ,EANH,QAAA;AAOLC,MAAAA,SAAS,EAPJ,SAAA;AAQLC,MAAAA,SAAS,EARJ,SAAA;AASLC,MAAAA,QAAQ,EATH,QAAA;AAULd,MAAAA,MAAM,EAAEiE,eAAe,CAAA,SAAA,EAAA,SAAA,EAAA,QAAA,EAAA,SAAA,EAAA,SAAA,EAAA,QAAA;AAVlB,KAAP;AAYD,G,CClDD;;;AAGA,MAAMC,UAAU,GAAhB,CAAA,C,CAAA;AAGA;;AACO,WAAA,4BAAA,CAAA,sBAAA,EAA8D;AACnE,QAAIC,kBAAkB,GAAGC,sBAAsB,KAC7CA,sBAAsB,CAAtBA,mBAAAA,IACAA,sBAAsB,CAFxB,eAA+C,CAA/C;;AAKA,WAAA,kBAAA,EAA2B;AACzB,UAAID,kBAAkB,CAAlBA,IAAAA,GAAJ,UAAA,EAA0C;AACxC,eAAA,IAAA;AACD;;AACDA,MAAAA,kBAAkB,GAAGA,kBAAkB,CAAvCA,QAAuC,CAAvCA;AACD;;AACD,WAAA,KAAA;AACD;;AAEM,WAAA,qBAAA,CAAA,SAAA,EAA0C;AAC/C,WAAOrE,SAAS,CAATA,SAAAA,IAAuB,CAAC,CAACA,SAAS,CAATA,SAAAA,CAAhC,gBAAA;AACD;;AAEM,WAAA,eAAA,CAAA,SAAA,EAAoC;AACzC,WAAOA,SAAS,CAATA,QAAAA,KAAP,eAAA;AACD;;AAEM,WAAA,qBAAA,CAAA,SAAA,EAA0C;AAC/C,WAAOA,SAAS,CAATA,QAAAA,KAAP,sBAAA;AACD;;AC3BD,WAAA,aAAA,CAAA,WAAA,EAAoC;AAClC,WACEzE,SAAS,CAATA,OAAAA,CAAAA,OAAAA,IACAA,SAAS,CAATA,OAAAA,CAAAA,OAAAA,CAAAA,MAAAA,GADAA,CAAAA,IAEA,SAAS,CAAT,OAAA,CAAA,OAAA,CAAA,IAAA,CAA+B,UAAA,KAAA,EAAK;AAAA,aAAIgJ,KAAK,CAALA,IAAAA,CAAJ,WAAIA,CAAJ;AAHtC,KAGE,CAHF;AAKD;;AAED,WAAA,aAAA,CAAA,WAAA,EAAoC;AAClC,WACEhJ,SAAS,CAATA,OAAAA,CAAAA,OAAAA,IACAA,SAAS,CAATA,OAAAA,CAAAA,OAAAA,CAAAA,MAAAA,GADAA,CAAAA,IAEA,SAAS,CAAT,OAAA,CAAA,OAAA,CAAA,IAAA,CAA+B,UAAA,KAAA,EAAK;AAAA,aAAIgJ,KAAK,CAALA,IAAAA,CAAJ,WAAIA,CAAJ;AAHtC,KAGE,CAHF;AAKD;;AAEc,WAAA,WAAA,CAAA,SAAA,EAAA,IAAA,EAAkD;AAAA,QAAhBC,YAAgB,GAAA,IAAA,CAAhBA,YAAgB;AAC/D,QAAMrE,WAAW,GAAG6C,cAAc,CAAlC,SAAkC,CAAlC;;AAEA,QAAIyB,aAAa,CAAjB,WAAiB,CAAjB,EAAgC;AAC9B,aAAA,KAAA;AACD;;AAED,QAAIzE,SAAS,CAATA,eAAAA,KAAJ,KAAA,EAAyC;AACvC,aAAA,KAAA;AACD;;AAED,QAAIwE,YAAY,IACdxE,SAAS,CAATA,eADEwE,IAC2BxE,SAAS,CAATA,eAAAA,CAAAA,UAAAA,KAD/B,KAAA,EAEG;AACD,aAAA,KAAA;AACD;;AAED,WAAO,CAAC,EACNA,SAAS,CAATA,eAAAA,IACEzE,SAAS,CAATA,OAAAA,CAAAA,sBAAAA,KACGyE,SAAS,IAAIA,SAAS,CAATA,SAAAA,YAA+BzE,SAAS,CAATA,KAAAA,CAA7C,aAACyE,IACD0E,eAAe,CAHnB1E,SAGmB,CAFjBzE,CADFyE,IAMA2E,aAAa,CAPf,WAOe,CAPP,CAAR;AASD;;ACxCc,WAAA,mBAAA,CAAA,cAAA,EAAA,IAAA,EAA4E;AAAA,QAA7BxE,WAA6B,GAAA,IAAA,CAA7BA,WAA6B;AAAA,QAAhByE,YAAgB,GAAA,IAAA,CAAhBA,YAAgB;;AAAA,QACnFC,yBADmF,GAAA,aAAA,UAAA,eAAA,EAAA;AAAA,MAAA,SAAA,CAAA,yBAAA,EAAA,eAAA,CAAA;;AAAA,UAAA,MAAA,GAAA,YAAA,CAAA,yBAAA,CAAA;;AAEvF,eAAA,yBAAA,CAAA,KAAA,EAAA,OAAA,EAA4B;AAAA,YAAA,UAAA,EAAA,KAAA;;AAAA,QAAA,eAAA,CAAA,IAAA,EAAA,yBAAA,CAAA;;AAC1B,QAAA,KAAA,GAAA,MAAA,CAAA,IAAA,CAAA,IAAA,EAAA,KAAA,EAAA,OAAA,CAAA;AAEA,QAAA,KAAA,CAAA,KAAA,GAAa;AACXC,UAAAA,YAAY,EAAE;AADH,SAAb;;AAIA,YAAMC,UAAU,GAAG,IAAA,EAAA,UAAA,GAAA,sBAAA,CAAA,KAAA,CAAA,EAAA,eAAA,CAAA,yBAAA,CAAA,SAAA,CAAA,GAAA,QAAA,EAAA,UAAA,CAAA,IAAgB,KAAA,CAPT,MAO1B,CAP0B,CAAA;;;AAU1B,YAAMC,uBAAuB,GAAGD,UAAU,KAAKE,cAAc,CAAdA,SAAAA,CAA/C,MAAA;;AACA,YAAA,uBAAA,EAA6B;AAC3B,UAAA,KAAA,CAAA,MAAA,GAAc,YAAM;AAClBJ,YAAAA,yBAAyB,CAAzBA,SAAAA,CAAAA,MAAAA,CAAAA,KAAAA,CAAAA,sBAAAA,CAAAA,KAAAA,CAAAA;AACA,mBAAOE,UAAP,EAAA;AAFF,WAAA;AAID;;AAhByB,eAAA,KAAA;AAiB3B;;AAnBsF,MAAA,YAAA,CAAA,yBAAA,EAAA,CAAA;AAAA,QAAA,GAAA,EAAA,QAAA;AAAA,QAAA,KAAA,EAoBvF,SAAA,MAAA,GAAS;AACP,eAAA,KAAA,CAAA,YAAA;;AAEA,cAAI,EAAE,kBAAkB,KAAxB,KAAI,CAAJ,EAAqC;AACnC,iBAAA,KAAA,CAAA,YAAA,GAA0BG,4BAA4B,CAAtD,IAAsD,CAAtD;AAJK,WAAA,CAAA;;;AAQP,cAAI,EAAE,KAAA,KAAA,CAAA,YAAA,IAA2B,KAAA,KAAA,CAAA,YAAA,GAAA,CAAA,KAAjC,CAAI,CAAJ,EAAqE;AACnE,gBAAI,KAAA,KAAA,CAAJ,SAAA,EAA0B;AACxB,kBAAMjE,UAAU,GAAGkE,aAAa,CAAC;AAC/BnF,gBAAAA,SAAS,EADsB,cAAA;AAE/BG,gBAAAA,WAAW,EAFoB,WAAA;AAG/BQ,gBAAAA,SAAS,EAAE,KAAA,KAAA,CAHoB,SAAA;AAI/BC,gBAAAA,SAAS,EAAE,KAAA,KAAA,CAJoB,SAAA;AAK/BE,gBAAAA,SAAS,EAAE,KALoB,KAAA;AAM/BC,gBAAAA,SAAS,EAAE,KAAKU;AANe,eAAD,CAAhC;AASAlG,cAAAA,SAAS,CAATA,OAAAA,CAAAA,QAAAA,CAAAA,UAAAA;AACD;;AAED,iBAAA,KAAA,CAAA,SAAA,GAAuB,KAAvB,KAAA;AACA,iBAAA,KAAA,CAAA,SAAA,GAAuB,KAAvB,KAAA;AACD;;AAED,iBAAO,IAAA,CAAA,eAAA,CAAA,yBAAA,CAAA,SAAA,CAAA,EAAA,QAAA,EAAA,IAAA,CAAA,GAAA,IAAA,CAAA,eAAA,CAAA,yBAAA,CAAA,SAAA,CAAA,EAAA,QAAA,EAAA,IAAA,CAAA,CAAA,IAAA,CAAA,IAAA,CAAA,GAAP,IAAA;AACD;AA/CsF,OAAA,CAAA,CAAA;;AAAA,aAAA,yBAAA;AAAA,KAAA,CAAA,cAAA,CAAA;;AAkDzF,QAAI;AACFsJ,MAAAA,yBAAyB,CAAzBA,WAAAA,GAAAA,WAAAA;AADF,KAAA,CAEE,OAAA,CAAA,EAAU,CAAA;AAEX;;AAEDA,IAAAA,yBAAyB,CAAzBA,YAAAA,GAAAA,YAAAA;AAEAO,IAAAA,MAAAA,CAAAA,QAAAA,CAAQ,yBAARA,EAAAA,cAAAA;AAEA,WAAA,yBAAA;AACD;;AC9DD,MAAMC,yCAAyC,GAAG,SAA5CA,yCAA4C,CAAA,gBAAA,EAAA;AAAA,WAAsB,UAAA,KAAA,EAAK;AAAA,aAC3E9J,SAAS,CAATA,KAAAA,CAAAA,aAAAA,CAAAA,gBAAAA,EAD2E,KAC3EA,CAD2E;AAA3B,KAAA;AAAlD,GAAA;;AAIe,WAAA,6BAAA,CAAA,2BAAA,EAAA,IAAA,EAA2G;AAAA,QAArC+J,MAAqC,GAAA,IAAA,CAArCA,MAAqC;AAAA,QAA7BnF,WAA6B,GAAA,IAAA,CAA7BA,WAA6B;AAAA,QAAhByE,YAAgB,GAAA,IAAA,CAAhBA,YAAgB;AACxH,QAAMW,mBAAmB,GAAG,OAAA,2BAAA,KAAA,QAAA,GAC1BF,yCAAyC,CADf,2BACe,CADf,GAA5B,2BAAA;;AAIA,aAAA,uBAAA,GAAmC;AACjC,UAAMvE,SAAS,GAAG0E,SAAS,CAA3B,CAA2B,CAA3B;AACA,UAAMC,GAAG,GAAGlK,SAAS,CAATA,KAAAA,CAAZ,MAAYA,EAAZ;AAEA,UAAMoF,SAAS,GAAG8E,GAAG,CAArB,OAAA;AACAA,MAAAA,GAAG,CAAHA,OAAAA,GAAAA,SAAAA;;AAEA,UAAA,SAAA,EAAe;AACb,YAAMxE,UAAU,GAAGkE,aAAa,CAAC;AAC/BnF,UAAAA,SAAS,EADsB,mBAAA;AAE/BG,UAAAA,WAAW,EAFoB,WAAA;AAG/BQ,UAAAA,SAAS,EAHsB,SAAA;AAI/BG,UAAAA,SAAS,EAATA;AAJ+B,SAAD,CAAhC;AAOA,YAAM4E,eAAe,GACnB,CAACzE,UAAU,CAAVA,MAAAA,CAAD,gBAAA,IACGqE,MAAM,IAAIrE,UAAU,CAAVA,MAAAA,CAAAA,gBAAAA,CAAAA,MAAAA,KAFf,CAAA;;AAMA,YAAI,CAAJ,eAAA,EAAsB;AACpB1F,UAAAA,SAAS,CAATA,OAAAA,CAAAA,QAAAA,CAAAA,UAAAA;AACD;AACF;;AAED,aAAOgK,mBAAmB,CAAnBA,KAAAA,CAAAA,KAAAA,CAAAA,EAAP,SAAOA,CAAP;AACD;;AAED,QAAI;AACFI,MAAAA,uBAAuB,CAAvBA,WAAAA,GAAAA,WAAAA;AADF,KAAA,CAEE,OAAA,CAAA,EAAU,CAAA;AAEX;;AAEDA,IAAAA,uBAAuB,CAAvBA,YAAAA,GAAAA,YAAAA;AAEAA,IAAAA,uBAAuB,CAAvBA,yBAAAA,GAAAA,mBAAAA;AACAP,IAAAA,MAAAA,CAAAA,QAAAA,CAAQ,uBAARA,EAAAA,mBAAAA;AAEA,WAAA,uBAAA;AACD;;AC/Cc,WAAA,kBAAA,CAAA,aAAA,EAAA,IAAA,EAA0E;AAAA,QAA7BjF,WAA6B,GAAA,IAAA,CAA7BA,WAA6B;AAAA,QAAhByE,YAAgB,GAAA,IAAA,CAAhBA,YAAgB;AACvF,QAAcgB,kBAAd,GAAqCC,aAArC,CAAA,IAAA;AAEA,QAAMC,mCAAmC,GAAGC,qBAAqB,CAAjE,kBAAiE,CAAjE;AACA,QAAMC,+BAA+B,GAAGC,qBAAqB,CAA7D,kBAA6D,CAA7D;AACA,QAAMC,wCAAwC,GAAGxB,eAAe,CAAhE,kBAAgE,CAAhE;AAEA,QAAMyB,0BAA0B,GAAGH,+BAA+B,GAChEJ,kBAAkB,CAD8C,MAAA,GAAlE,kBAAA;AAIA,QAAMQ,qBAAqB,GAAGN,mCAAmC,GAC/DO,mBAAmB,CAAA,0BAAA,EAA6B;AAAElG,MAAAA,WAAW,EAAb,WAAA;AAAeyE,MAAAA,YAAY,EAAZA;AAAf,KAA7B,CAD4C,GAE9DsB,wCAAwC,GACvCI,kBAAkB,CAAA,0BAAA,EAA6B;AAAEnG,MAAAA,WAAW,EAAb,WAAA;AAAeyE,MAAAA,YAAY,EAAZA;AAAf,KAA7B,CADqB,GAEvC2B,6BAA6B,CAAA,0BAAA,EAA6B;AAAEpG,MAAAA,WAAW,EAAb,WAAA;AAAemF,MAAAA,MAAM,EAAE;AAAvB,KAA7B,CAJjC;;AAOA,QAAI;AACFc,MAAAA,qBAAqB,CAArBA,WAAAA,GAAoCpD,cAAc,CAAlDoD,0BAAkD,CAAlDA;AADF,KAAA,CAEE,OAAA,CAAA,EAAU,CAAA;AAEX;;AAEDA,IAAAA,qBAAqB,CAArBA,yBAAAA,GAAAA,aAAAA;AACAhB,IAAAA,MAAAA,CAAAA,QAAAA,CAAQ,qBAARA,EAAAA,0BAAAA;AAEA,QAAMoB,+BAA+B,GAAGjL,SAAS,CAATA,KAAAA,CAAAA,IAAAA,CACtCyK,+BAA+B,GAAGzK,SAAS,CAATA,KAAAA,CAAAA,UAAAA,CAAH,qBAAGA,CAAH,GADOA,qBAAAA,EAEtCsK,aAAa,CAFf,OAAwCtK,CAAxC;;AAKA,QAAI;AACFiL,MAAAA,+BAA+B,CAA/BA,WAAAA,GAAAA,WAAAA;AADF,KAAA,CAEE,OAAA,CAAA,EAAU,CAAA;AAEX;;AAEDA,IAAAA,+BAA+B,CAA/BA,YAAAA,GAAAA,YAAAA;AAEApB,IAAAA,MAAAA,CAAAA,QAAAA,CAAQ,+BAARA,EAAAA,aAAAA;AAEA,WAAA,+BAAA;AACD;;AC5Cc,WAAA,wBAAA,CAAA,mBAAA,EAAA,IAAA,EAAsF;AAAA,QAA7BjF,WAA6B,GAAA,IAAA,CAA7BA,WAA6B;AAAA,QAAhByE,YAAgB,GAAA,IAAA,CAAhBA,YAAgB;AACnG,QAAgB6B,wBAAhB,GAA6CC,mBAA7C,CAAA,MAAA;AAEA,QAAMC,wBAAwB,GAAGjC,eAAe,CAAhD,wBAAgD,CAAhD;AACA,QAAMyB,0BAA0B,GAAGQ,wBAAwB,GACzDF,wBAAwB,CADiC,IAAA,GAA3D,wBAAA;AAGA,QAAMG,+CAA+C,GACnDL,6BAA6B,CAAA,0BAAA,EAA6B;AAAEjB,MAAAA,MAAM,EAAR,wBAAA;AAAoCnF,MAAAA,WAAW,EAAXA;AAApC,KAA7B,CAD/B;AAIAyG,IAAAA,+CAA+C,CAA/CA,WAAAA,GAA8D5D,cAAc,CAA5E4D,0BAA4E,CAA5EA;AACAA,IAAAA,+CAA+C,CAA/CA,yBAAAA,GAAAA,0BAAAA;AACAxB,IAAAA,MAAAA,CAAAA,QAAAA,CAAQ,+CAARA,EAAAA,0BAAAA;AAEA,QAAMyB,iCAAiC,GAAGtL,SAAS,CAATA,KAAAA,CAAAA,UAAAA,CACxCoL,wBAAwB,GACtBpL,SAAS,CAATA,KAAAA,CAAAA,IAAAA,CAAAA,+CAAAA,EAAsEkL,wBAAwB,CADxE,OACtBlL,CADsB,GAD1B,+CAA0CA,CAA1C;;AAMA,QAAI;AACFsL,MAAAA,iCAAiC,CAAjCA,WAAAA,GAAAA,WAAAA;AADF,KAAA,CAEE,OAAA,CAAA,EAAU,CAAA;AAEX;;AAEDA,IAAAA,iCAAiC,CAAjCA,YAAAA,GAAAA,YAAAA;AAEAzB,IAAAA,MAAAA,CAAAA,QAAAA,CAAQ,iCAARA,EAAAA,mBAAAA;AAEA,WAAA,iCAAA;AACD;;ACpBD,MAAM0B,gBAAgB,GAAG3K,MAAM,CAA/B,oBAA+B,CAA/B;;AAEA,WAAA,gBAAA,CAAA,QAAA,EAAA,IAAA,EAAA,UAAA,EAAoE;AAAA,QAAxB6K,QAAwB,GAAA,IAAA,CAA9BD,IAA8B;AAClE,QAAM/F,QAAQ,GAAGgG,QAAQ,GAAGC,MAAAA,CAAAA,GAAAA,CAAG,UAAHA,EAAH,QAAGA,CAAH,GAAzB,UAAA;AAEA,QAAMC,sBAAsB,GAAG3L,SAAS,CAATA,KAAAA,CAAAA,MAAAA,CAHmC,IAGnCA,CAA/B,CAHkE,CAAA;;AAMlE,QAAM4L,sBAAsB,GAC1B5L,SAAS,CAATA,cAAAA,CAAAA,CAAAA,KACAA,SAAS,CAATA,cAAAA,CAAAA,CAAAA,EAAAA,sBAAAA,KAAuD2L,sBAAsB,CAF/E,OAAA;;AAKA,QAAA,sBAAA,EAA4B;AAC1B3L,MAAAA,SAAS,CAATA,cAAAA,GAAAA,EAAAA;AACD;;AAEDA,IAAAA,SAAS,CAATA,cAAAA,CAAAA,IAAAA,CAA8B;AAAE6E,MAAAA,QAAQ,EAAV,QAAA;AAAYsB,MAAAA,MAAM,EAAlB,QAAA;AAA8BwF,MAAAA,sBAAsB,EAAEA,sBAAsB,CAACE;AAA7E,KAA9B7L;AAEA2L,IAAAA,sBAAsB,CAAtBA,OAAAA;AAEA,QAAMG,mCAAmC,GACvC9L,SAAS,CAATA,KAAAA,CAAAA,kDAAAA,IACAA,SAAS,CAATA,KAAAA,CAAAA,kDAAAA,CAAAA,iBAAAA,CAFF,OAAA;AAKA,QAAM+L,WAAW,GAAG/L,SAAS,CAATA,KAAAA,CAAAA,MAAAA,CAApB,gBAAoBA,CAApB;;AAEA,QAAI,CAAJ,mCAAA,EAA0C;AACxC,aAAA,UAAA;AACD;;AAED,QAAMyE,SAAS,GAAGqH,mCAAmC,CAAnCA,IAAAA,CAAAA,yBAAAA,IAAsEA,mCAAmC,CAA3H,IAAA;AACA,QAAMlH,WAAW,GAAG6C,cAAc,CAAlC,SAAkC,CAAlC;AAEA,QAAMuE,aAAa,GAAGC,WAAW,CAAA,SAAA,EAAY;AAAEhD,MAAAA,YAAY,EAAE;AAAhB,KAAZ,CAAjC;;AACA,QAAI,CAAJ,aAAA,EAAoB;AAClB,aAAA,UAAA;AACD;;AAED,QAAMiD,cAAc,GAAGH,WAAW,CAAlC,OAAA;AACAA,IAAAA,WAAW,CAAXA,OAAAA,GAAAA,UAAAA;;AAEA,QAAIG,cAAc,KAAlB,gBAAA,EAAyC;AACvC,UAAMC,YAAY,GAAGvC,aAAa,CAAC;AACjCnF,QAAAA,SAAS,EADwB,SAAA;AAEjCG,QAAAA,WAAW,EAFsB,WAAA;AAGjCC,QAAAA,QAAQ,EAHyB,QAAA;AAIjCS,QAAAA,QAAQ,EAAEmG,QAAQ,GAAGC,MAAAA,CAAAA,GAAAA,CAAG,cAAHA,EAAH,QAAGA,CAAH,GAJe,cAAA;AAKjCjG,QAAAA,QAAQ,EAARA;AALiC,OAAD,CAAlC;;AAQA,UAAI0G,YAAY,CAAZA,MAAAA,CAAJ,eAAA,EAAyC;AACvCnM,QAAAA,SAAS,CAATA,OAAAA,CAAAA,QAAAA,CAAAA,YAAAA;AACD;AACF;;AAED,WAAA,UAAA;AACD;;AAED,WAAA,sBAAA,CAAA,SAAA,EAAA,KAAA,EAA0E;AAAA,QAA7B4E,WAA6B,GAAA,KAAA,CAA7BA,WAA6B;AAAA,QAAhByE,YAAgB,GAAA,KAAA,CAAhBA,YAAgB;;AACxE,QAAIF,eAAe,CAAnB,SAAmB,CAAnB,EAAgC;AAC9B,aAAO4B,kBAAkB,CAAA,SAAA,EAAY;AAAEnG,QAAAA,WAAW,EAAb,WAAA;AAAeyE,QAAAA,YAAY,EAAZA;AAAf,OAAZ,CAAzB;AACD;;AAED,QAAIqB,qBAAqB,CAAzB,SAAyB,CAAzB,EAAsC;AACpC,aAAO0B,wBAAwB,CAAA,SAAA,EAAY;AAAExH,QAAAA,WAAW,EAAb,WAAA;AAAeyE,QAAAA,YAAY,EAAZA;AAAf,OAAZ,CAA/B;AACD;;AAED,QAAImB,qBAAqB,CAAzB,SAAyB,CAAzB,EAAsC;AACpC,aAAOM,mBAAmB,CAAA,SAAA,EAAY;AAAElG,QAAAA,WAAW,EAAb,WAAA;AAAeyE,QAAAA,YAAY,EAAZA;AAAf,OAAZ,CAA1B;AACD;;AAED,WAAO2B,6BAA6B,CAAA,SAAA,EAAY;AAAEpG,MAAAA,WAAW,EAAb,WAAA;AAAeyE,MAAAA,YAAY,EAA3B,YAAA;AAA6BU,MAAAA,MAAM,EAAE;AAArC,KAAZ,CAApC;AACD;;AAED,WAAA,mBAAA,CAAA,SAAA,EAAA,KAAA,EAAuE;AAAA,QAA7BnF,WAA6B,GAAA,KAAA,CAA7BA,WAA6B;AAAA,QAAhByE,YAAgB,GAAA,KAAA,CAAhBA,YAAgB;;AACrE,QAAIrJ,SAAS,CAATA,aAAAA,CAAAA,GAAAA,CAAJ,SAAIA,CAAJ,EAA4C;AAC1C,aAAOA,SAAS,CAATA,aAAAA,CAAAA,GAAAA,CAAP,SAAOA,CAAP;AACD;;AAED,QAAMqM,oBAAoB,GAAGC,sBAAsB,CAAA,SAAA,EAAY;AAAE1H,MAAAA,WAAW,EAAb,WAAA;AAAeyE,MAAAA,YAAY,EAAZA;AAAf,KAAZ,CAAnD;AAEArJ,IAAAA,SAAS,CAATA,aAAAA,CAAAA,GAAAA,CAAAA,SAAAA,EAAAA,oBAAAA;AAEA,WAAA,oBAAA;AACD;;AAED,WAAA,2BAAA,CAAA,IAAA,EAA2C;AACzC,QAAI,CAAJ,IAAA,EAAW;AACT,aAAA,KAAA;AACD;;AAED,QAAImJ,eAAe,CAAnB,IAAmB,CAAnB,EAA2B;AACzB,aAAOoD,2BAA2B,CAACC,IAAI,CAAvC,IAAkC,CAAlC;AACD;;AAED,QAAI9B,qBAAqB,CAAzB,IAAyB,CAAzB,EAAiC;AAC/B,aAAO6B,2BAA2B,CAACC,IAAI,CAAvC,MAAkC,CAAlC;AACD;;AAED,QAAI,OAAA,IAAA,KAAJ,UAAA,EAAgC;AAC9B,aAAA,IAAA;AACD;AACF;;AAEM,MAAMC,WAAW,GAAG;AACzBC,IAAAA,QAAQ,EAAE;AAAElB,MAAAA,IAAI,EAAE;AAAR,KADe;AAEzBmB,IAAAA,UAAU,EAAE;AAAEnB,MAAAA,IAAI,EAAE;AAAR,KAFa;AAGzBoB,IAAAA,UAAU,EAHe,SAAA;AAIzBC,IAAAA,OAAO,EAAE;AAAEC,MAAAA,gBAAgB,EAAlB,GAAA;AAAyBC,MAAAA,UAAU,EAAE;AAArC,KAJgB;AAKzBC,IAAAA,WAAW,EAAE;AAAEF,MAAAA,gBAAgB,EAAlB,GAAA;AAAyBC,MAAAA,UAAU,EAAE;AAArC;AALY,GAApB;;AAQA,WAAA,cAAA,CAAA,OAAA,EAAiC;AACtC,QAAME,aAAa,GAAGjN,SAAS,CAATA,KAAAA,CAAAA,kDAAAA,CAAAA,iBAAAA,CAAtB,OAAA;;AACA,QAAA,aAAA,EAAmB;AACjB,UAAMyE,SAAS,GAAGwI,aAAa,CAAbA,IAAAA,CAAAA,yBAAAA,IAAgDA,aAAa,CAA/E,IAAA;AACA,UAAMrI,WAAW,GAAG6C,cAAc,CAAlC,SAAkC,CAAlC;AAEA,UAAIyF,mBAAmB,GAAvB,EAAA;;AACA,UAAIlN,SAAS,CAATA,OAAAA,CAAJ,sBAAA,EAA8C;AAC5CkN,QAAAA,mBAAmB,GAAGlN,SAAS,CAATA,OAAAA,CAAAA,sBAAAA,CAAtBkN,OAAsBlN,CAAtBkN;AACD;;AAEDlN,MAAAA,SAAS,CAATA,YAAAA,CAAAA,GAAAA,CAA2BmN,OAAO,CAAlCnN,KAAAA,EAA0C;AACxCyE,QAAAA,SAAS,EAD+B,SAAA;AAExCG,QAAAA,WAAW,EAF6B,WAAA;AAGxCqB,QAAAA,KAAK,EAAEgH,aAAa,CAHoB,YAAA;AAIxC/G,QAAAA,KAAK,EAAE+G,aAAa,CAAbA,SAAAA,GAA0BA,aAAa,CAAbA,SAAAA,CAA1BA,KAAAA,GAJiC,IAAA;AAKxCG,QAAAA,KAAK,EAAEpN,SAAS,CALwB,cAAA;AAMxCkN,QAAAA,mBAAmB,EAAnBA;AANwC,OAA1ClN;AAQD;AACF;;AAED,WAAA,2BAAA,GAAuC;AACrC;AACA,QAAIqN,YAAY,GAAhB,IAAA;;AACA,QAAIrN,SAAS,CAATA,KAAAA,CAAJ,kDAAA,EAAwE;AACtEyB,MAAAA,MAAM,CAANA,cAAAA,CAAsBzB,SAAS,CAATA,KAAAA,CAAAA,kDAAAA,CAAtByB,iBAAAA,EAAAA,SAAAA,EAAuH;AACrHiK,QAAAA,GADqH,EAAA,SAAA,GAAA,GAC/G;AACJ,iBAAA,YAAA;AAFmH,SAAA;AAIrH4B,QAAAA,GAJqH,EAAA,SAAA,GAAA,CAAA,KAAA,EAI1G;AACTD,UAAAA,YAAY,GAAZA,KAAAA;AACArN,UAAAA,SAAS,CAATA,cAAAA,GAAAA,EAAAA;AACD;AAPoH,OAAvHyB;AASD;AACF;;AAED,WAAA,kBAAA,GAA8B;AAC5B,QAAM8L,cAAc,GAAG,CAAC,CAACvN,SAAS,CAATA,KAAAA,CAAzB,QAAA;;AAEA,QAAIA,SAAS,CAATA,OAAAA,CAAAA,UAAAA,IAAJ,cAAA,EAAoD;AAClD,UAAMwN,WAAW,GAAG,MAAM,CAAN,OAAA,CAAA,WAAA,EAAA,GAAA,CAAgC,UAAA,KAAA,EAAoC;AAAA,YAAA,KAAA,GAAA,cAAA,CAAA,KAAA,EAAA,CAAA,CAAA;AAAA,YAAlC3I,QAAkC,GAAA,KAAA,CAAA,CAAA,CAAA;AAAA,YAAxB4I,kBAAwB,GAAA,KAAA,CAAA,CAAA,CAAA;;AACtF,eAAO,CAACzN,SAAS,CAAV,KAAA,EAAA,QAAA,EAAP,kBAAO,CAAP;AADF,OAAoB,CAApB;AAIA,UAAM0N,YAAY,GAAA,GAAA,MAAA,CAAA,kBAAA,CAAA,WAAA,CAAA,EAAA,kBAAA,CAEb1N,SAAS,CAATA,OAAAA,CAFL,eAAkB,CAAA,CAAlB;AAKA0N,MAAAA,YAAY,CAAZA,OAAAA,CAAqB,UAAA,KAAA,EAAqD;AAAA,YAAA,KAAA,GAAA,cAAA,CAAA,KAAA,EAAA,CAAA,CAAA;AAAA,YAAnDC,UAAmD,GAAA,KAAA,CAAA,CAAA,CAAA;AAAA,YAAvC9I,QAAuC,GAAA,KAAA,CAAA,CAAA,CAAA;AAAA,YAAA,MAAA,GAAA,KAAA,CAAA,CAAA,CAAA;AAAA,YAA7B4I,kBAA6B,GAAA,MAAA,KAAA,KAAA,CAAA,GAAR,EAAQ,GAAA,MAAA;;AACxE,YAAMG,YAAY,GAAGD,UAAU,CAA/B,QAA+B,CAA/B;AACA,YAAME,WAAW,GAAGhJ,QAAQ,CAARA,CAAQ,CAARA,CAAAA,WAAAA,KAA4BA,QAAQ,CAARA,KAAAA,CAAhD,CAAgDA,CAAhD;;AAEA,YAAMiJ,OAAO,GAAG,SAAVA,OAAU,GAAkB;AAAA,eAAA,IAAA,IAAA,GAAA,SAAA,CAAA,MAAA,EAANC,IAAM,GAAA,IAAA,KAAA,CAAA,IAAA,CAAA,EAAA,IAAA,GAAA,CAAA,EAAA,IAAA,GAAA,IAAA,EAAA,IAAA,EAAA,EAAA;AAANA,YAAAA,IAAM,CAAA,IAAA,CAANA,GAAM,SAAA,CAAA,IAAA,CAANA;AAAM;;AAChC,cAAMC,UAAU,GAAGJ,YAAY,CAAZA,IAAAA,CAAAA,KAAAA,CAAAA,YAAAA,EAAY,CAAA,IAAA,EAAA,MAAA,CAA/B,IAA+B,CAAZA,CAAnB;AACA,cAAQd,gBAAR,GAAyCW,kBAAzC,CAAA,gBAAA;AAAA,cAA0BV,UAA1B,GAAyCU,kBAAzC,CAAA,UAAA;;AACA,cAAIX,gBAAgB,IAAIpK,MAAAA,CAAAA,UAAAA,CAAxB,UAAwBA,CAAxB,EAAgD;AAC9ChB,YAAAA,eAAe,CAAfA,GAAAA,CAAAA,UAAAA,EAAgC;AAAEmD,cAAAA,QAAQ,EAAV,QAAA;AAAYoJ,cAAAA,IAAI,EAAEvC,MAAAA,CAAAA,GAAAA,CAAG,IAAHA,EAAG,gBAAHA;AAAlB,aAAhChK;AACD;;AACD,cAAI,CAAJ,UAAA,EAAiB;AACfwM,YAAAA,gBAAgB,CAAA,QAAA,EAAA,kBAAA,EAAhBA,UAAgB,CAAhBA;AACD;;AACD,iBAAA,UAAA;AATF,SAAA;;AAYAzM,QAAAA,MAAM,CAANA,cAAAA,CAAAA,OAAAA,EAAAA,MAAAA,EAAuC;AAAE0M,UAAAA,KAAK,EAAP,WAAA;AAAsBC,UAAAA,QAAQ,EAAE;AAAhC,SAAvC3M;AACAA,QAAAA,MAAM,CAANA,MAAAA,CAAAA,OAAAA,EAAuB;AAAEmM,UAAAA,YAAY,EAAZA;AAAF,SAAvBnM;AACAkM,QAAAA,UAAU,CAAVA,QAAU,CAAVA,GAAAA,OAAAA;AAlBFD,OAAAA;AAoBD;AACF;;AAEM,WAAA,WAAA,CAAA,QAAA,EAA+B;AACpC,QAAM1B,aAAa,GACjBO,2BAA2B,CAA3BA,QAA2B,CAA3BA,IACAN,WAAW,CAAA,QAAA,EAAW;AAAEhD,MAAAA,YAAY,EAAE;AAAhB,KAAX,CAFb;;AAKA,QAAI,CAAJ,aAAA,EAAoB;AAClB,aAAA,IAAA;AACD;;AAED,QAAMrE,WAAW,GACfyJ,QAAQ,IACRA,QAAQ,CADRA,eAAAA,IAEAA,QAAQ,CAARA,eAAAA,CAFAA,UAAAA,IAGA5G,cAAc,CAJhB,QAIgB,CAJhB;AAOA,QAAM4B,YAAY,GAAG1B,eAAe,CAApC,QAAoC,CAApC;AAEA,QAAM0E,oBAAoB,GAAGiC,mBAAmB,CAAA,QAAA,EAAW;AAAE1J,MAAAA,WAAW,EAAb,WAAA;AAAeyE,MAAAA,YAAY,EAAZA;AAAf,KAAX,CAAhD;AAEA,WAAA,oBAAA;AACD;;AAEc,WAAA,eAAA,CAAA,KAAA,EAAA,WAAA,EAA6C;AAC1D,QAAIpJ,KAAK,CAAT,MAAA,EAAkB;AAChB;AACD;;AAEDwB,IAAAA,MAAM,CAANA,MAAAA,CAAAA,SAAAA,EAAyB;AACvBxB,MAAAA,KAAK,EADkB,KAAA;AAEvBC,MAAAA,OAAO,EAAEqO,gBAAgB,CAFF,WAEE,CAFF;AAGvBpO,MAAAA,iBAAiB,EAAEF,KAAK,CAHD,aAAA;AAIvBG,MAAAA,iBAAiB,EAAEH,KAAK,CAJD,aAAA;AAKvBI,MAAAA,gBAAgB,EAAEJ,KAAK,CALA,YAAA;AAMvBK,MAAAA,aAAa,EAAE,IAAA,OAAA;AANQ,KAAzBmB;AASA+M,IAAAA,2BAA2B;;AAE3BvO,IAAAA,KAAK,CAALA,aAAAA,GAAsB,UAAA,QAAA,EAA4B;AAChD,UAAMyO,QAAQ,GAAGC,WAAW,CAA5B,QAA4B,CAA5B;;AADgD,WAAA,IAAA,KAAA,GAAA,SAAA,CAAA,MAAA,EAANF,IAAM,GAAA,IAAA,KAAA,CAAA,KAAA,GAAA,CAAA,GAAA,KAAA,GAAA,CAAA,GAAA,CAAA,CAAA,EAAA,KAAA,GAAA,CAAA,EAAA,KAAA,GAAA,KAAA,EAAA,KAAA,EAAA,EAAA;AAANA,QAAAA,IAAM,CAAA,KAAA,GAAA,CAAA,CAANA,GAAM,SAAA,CAAA,KAAA,CAANA;AAAM;;AAEhD,UAAA,QAAA,EAAc;AACZ,YAAI;AACF,cAAMtB,OAAO,GAAGnN,SAAS,CAATA,iBAAAA,CAAAA,KAAAA,CAAAA,KAAAA,EAAAA,CAAAA,QAAAA,EAAAA,MAAAA,CAAhB,IAAgBA,CAAAA,CAAhB;;AACA,cAAIA,SAAS,CAATA,OAAAA,CAAJ,eAAA,EAAuC;AACrC4O,YAAAA,cAAc,CAAdA,OAAc,CAAdA;AACD;;AACD,iBAAA,OAAA;AALF,SAAA,CAOA,OAAA,CAAA,EAAU;AACR5O,UAAAA,SAAS,CAATA,OAAAA,CAAAA,UAAAA,CAAAA,6GAAAA,EAA4I;AAC1I6O,YAAAA,SAAS,EAAE;AACT9K,cAAAA,KAAK,EADI,CAAA;AAET+K,cAAAA,wBAAwB,EAFf,QAAA;AAGTL,cAAAA,IAAI,EAHK,IAAA;AAITvO,cAAAA,OAAO,EAAEF,SAAS,CAACE;AAJV;AAD+H,WAA5IF;AAQD;AACF;;AAED,aAAOA,SAAS,CAATA,iBAAAA,CAAAA,KAAAA,CAAAA,KAAAA,EAAAA,CAAAA,QAAAA,EAAAA,MAAAA,CAAP,IAAOA,CAAAA,CAAP;AAtBFC,KAAAA;;AAwBAwB,IAAAA,MAAM,CAANA,MAAAA,CAAcxB,KAAK,CAAnBwB,aAAAA,EAAmCzB,SAAS,CAA5CyB,iBAAAA;;AAEAxB,IAAAA,KAAK,CAALA,aAAAA,GAAsB,UAAA,IAAA,EAAQ;AAC5B,UAAM8O,OAAO,GAAG9O,KAAK,CAALA,aAAAA,CAAAA,IAAAA,CAAAA,IAAAA,EAAhB,IAAgBA,CAAhB;AACA8O,MAAAA,OAAO,CAAPA,IAAAA,GAAAA,IAAAA;AACA,aAAA,OAAA;AAHF9O,KAAAA;;AAKAwB,IAAAA,MAAM,CAANA,MAAAA,CAAcxB,KAAK,CAAnBwB,aAAAA,EAAmCzB,SAAS,CAA5CyB,iBAAAA;;AAEAxB,IAAAA,KAAK,CAALA,YAAAA,GAAqB,YAAa;AAAA,WAAA,IAAA,KAAA,GAAA,SAAA,CAAA,MAAA,EAAT8N,IAAS,GAAA,IAAA,KAAA,CAAA,KAAA,CAAA,EAAA,KAAA,GAAA,CAAA,EAAA,KAAA,GAAA,KAAA,EAAA,KAAA,EAAA,EAAA;AAATA,QAAAA,IAAS,CAAA,KAAA,CAATA,GAAS,SAAA,CAAA,KAAA,CAATA;AAAS;;AAChC,UAAMZ,OAAO,GAAGnN,SAAS,CAATA,gBAAAA,CAAAA,KAAAA,CAAAA,KAAAA,EAAhB,IAAgBA,CAAhB;;AACA,UAAIA,SAAS,CAATA,OAAAA,CAAJ,eAAA,EAAuC;AACrC4O,QAAAA,cAAc,CAAdA,OAAc,CAAdA;AACD;;AAED,aAAA,OAAA;AANF3O,KAAAA;;AAQAwB,IAAAA,MAAM,CAANA,MAAAA,CAAcxB,KAAK,CAAnBwB,YAAAA,EAAkCzB,SAAS,CAA3CyB,gBAAAA;AAEAuN,IAAAA,kBAAkB;AAElB/O,IAAAA,KAAK,CAALA,MAAAA,GAAAA,IAAAA;;AAEAA,IAAAA,KAAK,CAALA,6BAAAA,GAAsC,YAAM;AAC1CwB,MAAAA,MAAM,CAANA,MAAAA,CAAAA,KAAAA,EAAqB;AACnBwN,QAAAA,aAAa,EAAEjP,SAAS,CADL,iBAAA;AAEnBkP,QAAAA,aAAa,EAAElP,SAAS,CAFL,iBAAA;AAGnBmP,QAAAA,YAAY,EAAEnP,SAAS,CAACK;AAHL,OAArBoB;AAMAzB,MAAAA,SAAS,CAATA,aAAAA,GAAAA,IAAAA;AAEA,UAAMoP,aAAa,GAAA,GAAA,MAAA,CAAA,kBAAA,CACd,MAAM,CAAN,IAAA,CAAA,WAAA,EAAA,GAAA,CAA6B,UAAA,QAAA,EAAQ;AAAA,eAAI,CAAA,KAAA,EAAJ,QAAI,CAAJ;AADvB,OACd,CADc,CAAA,EAAA,kBAAA,CAEdpP,SAAS,CAATA,OAAAA,CAFL,eAAmB,CAAA,CAAnB;AAIAoP,MAAAA,aAAa,CAAbA,OAAAA,CAAsB,UAAA,KAAA,EAA4B;AAAA,YAAA,KAAA,GAAA,cAAA,CAAA,KAAA,EAAA,CAAA,CAAA;AAAA,YAA1BzB,UAA0B,GAAA,KAAA,CAAA,CAAA,CAAA;AAAA,YAAd9I,QAAc,GAAA,KAAA,CAAA,CAAA,CAAA;;AAChD,YAAI8I,UAAU,CAAVA,QAAU,CAAVA,CAAJ,YAAA,EAAuC;AACrCA,UAAAA,UAAU,CAAVA,QAAU,CAAVA,GAAuBA,UAAU,CAAVA,QAAU,CAAVA,CAAvBA,YAAAA;AACD;AAHHyB,OAAAA;AAMA,aAAOnP,KAAK,CAAZ,6BAAA;AACA,aAAOA,KAAK,CAAZ,MAAA;AApBFA,KAAAA;;AAuBA,WAAA,KAAA;AACD;;ACxTDoP,EAAAA,eAAe,CAAfA,eAAAA,GAAAA,eAAAA;AACAA,EAAAA,eAAe,CAAfA,SAAAA,GAAAA,SAAAA;AACAA,EAAAA,eAAe,CAAfA,cAAAA,GAAAA,cAAAA;AACAA,EAAAA,eAAe,CAAfA,WAAAA,GAAAA,WAAAA;AACA5N,EAAAA,MAAM,CAANA,MAAAA,CAAAA,eAAAA,EAAAA,gBAAAA","sourcesContent":["const wdyrStore = {\r\n  /* The React object we patch */\r\n  React: undefined,\r\n\r\n  /* Processed user options for WDYR */\r\n  options: undefined,\r\n\r\n  /* The original React.createElement function */\r\n  origCreateElement: undefined,\r\n\r\n  /* The original React.createFactory function */\r\n  origCreateFactory: undefined,\r\n\r\n  /* The original React.cloneElement function */\r\n  origCloneElement: undefined,\r\n\r\n  /* A weak map of all React elements to their WDYR patched react elements */\r\n  componentsMap: new WeakMap(),\r\n\r\n  /* A weak map of props to the owner element that passed them */\r\n  ownerDataMap: new WeakMap(),\r\n\r\n  /* An array of hooks tracked during one render */\r\n  hooksPerRender: [],\r\n};\r\n\r\nexport default wdyrStore;\r\n","export const diffTypes = {\r\n  'different': 'different',\r\n  'deepEquals': 'deepEquals',\r\n  'date': 'date',\r\n  'regex': 'regex',\r\n  'reactElement': 'reactElement',\r\n  'function': 'function',\r\n  'same': 'same',\r\n};\r\n\r\nexport const diffTypesDescriptions = {\r\n  [diffTypes.different]: 'different objects',\r\n  [diffTypes.deepEquals]: 'different objects that are equal by value',\r\n  [diffTypes.date]: 'different date objects with the same value',\r\n  [diffTypes.regex]: 'different regular expressions with the same value',\r\n  [diffTypes.reactElement]: 'different React elements (remember that the <jsx/> syntax always produces a *NEW* immutable React element so a component that receives <jsx/> as props always re-renders)',\r\n  [diffTypes.function]: 'different functions with the same name',\r\n  [diffTypes.same]: 'same objects by ref (===)',\r\n};\r\n\r\n// copied from packages/shared/ReactSymbols.js in https://github.com/facebook/react\r\nconst hasSymbol = typeof Symbol === 'function' && Symbol.for;\r\nexport const REACT_MEMO_TYPE = hasSymbol ? Symbol.for('react.memo') : 0xead3;\r\nexport const REACT_FORWARD_REF_TYPE = hasSymbol ? Symbol.for('react.forward_ref') : 0xead0;\r\n","import {\r\n  isArray,\r\n  isPlainObject,\r\n  isDate,\r\n  isRegExp,\r\n  isError,\r\n  isFunction,\r\n  isSet,\r\n  has,\r\n  uniq,\r\n} from 'lodash';\r\n\r\nimport { diffTypes } from './consts';\r\n\r\nconst hasElementType = typeof Element !== 'undefined';\r\n\r\n// copied from https://github.com/facebook/react/packages/shared/ReactSymbols.js\r\nconst hasSymbol = typeof Symbol === 'function' && Symbol.for;\r\nconst REACT_ELEMENT_TYPE = hasSymbol ? Symbol.for('react.element') : 0xeac7;\r\nconst isReactElement = object => object.$$typeof === REACT_ELEMENT_TYPE;\r\n// end\r\n\r\nfunction trackDiff(a, b, diffsAccumulator, pathString, diffType) {\r\n  diffsAccumulator.push({\r\n    diffType,\r\n    pathString,\r\n    prevValue: a,\r\n    nextValue: b,\r\n  });\r\n  return diffType !== diffTypes.different;\r\n}\r\n\r\nfunction isGetter(obj, prop) {\r\n  return !!Object.getOwnPropertyDescriptor(obj, prop)['get'];\r\n}\r\n\r\nexport const dependenciesMap = new WeakMap();\r\n\r\nfunction accumulateDeepEqualDiffs(a, b, diffsAccumulator, pathString = '', { detailed }) {\r\n  if (a === b) {\r\n    if (detailed) {\r\n      trackDiff(a, b, diffsAccumulator, pathString, diffTypes.same);\r\n    }\r\n    return true;\r\n  }\r\n\r\n  if (!a || !b) {\r\n    return trackDiff(a, b, diffsAccumulator, pathString, diffTypes.different);\r\n  }\r\n\r\n  if (isArray(a) && isArray(b)) {\r\n    const arrayLength = a.length;\r\n    if (arrayLength !== b.length) {\r\n      return trackDiff([...a], [...b], diffsAccumulator, pathString, diffTypes.different);\r\n    }\r\n\r\n    const arrayItemDiffs = [];\r\n    let numberOfDeepEqualsItems = 0;\r\n    for (let i = arrayLength; i--; i > 0) {\r\n      const diffEquals = accumulateDeepEqualDiffs(a[i], b[i], arrayItemDiffs, `${pathString}[${i}]`, { detailed });\r\n      if (diffEquals) {\r\n        numberOfDeepEqualsItems++;\r\n      }\r\n    }\r\n\r\n    if (detailed || numberOfDeepEqualsItems !== arrayLength) {\r\n      diffsAccumulator.push(...arrayItemDiffs);\r\n    }\r\n\r\n    if (numberOfDeepEqualsItems === arrayLength) {\r\n      return trackDiff([...a], [...b], diffsAccumulator, pathString, diffTypes.deepEquals);\r\n    }\r\n\r\n    return trackDiff([...a], [...b], diffsAccumulator, pathString, diffTypes.different);\r\n  }\r\n\r\n  if (isSet(a) && isSet(b)) {\r\n    if (a.size !== b.size) {\r\n      return trackDiff(new Set(a), new Set(b), diffsAccumulator, pathString, diffTypes.different);\r\n    }\r\n\r\n    for (const valA of a) {\r\n      if (!b.has(valA)) {\r\n        return trackDiff(new Set(a), new Set(b), diffsAccumulator, pathString, diffTypes.different);\r\n      }\r\n    }\r\n\r\n    return trackDiff(new Set(a), new Set(b), diffsAccumulator, pathString, diffTypes.deepEquals);\r\n  }\r\n\r\n  if (isDate(a) && isDate(b)) {\r\n    return a.getTime() === b.getTime() ?\r\n      trackDiff(new Date(a), new Date(b), diffsAccumulator, pathString, diffTypes.date) :\r\n      trackDiff(new Date(a), new Date(b), diffsAccumulator, pathString, diffTypes.different);\r\n  }\r\n\r\n  if (isRegExp(a) && isRegExp(b)) {\r\n    return a.toString() === b.toString() ?\r\n      trackDiff(a, b, diffsAccumulator, pathString, diffTypes.regex) :\r\n      trackDiff(a, b, diffsAccumulator, pathString, diffTypes.different);\r\n  }\r\n\r\n  if (hasElementType && a instanceof Element && b instanceof Element) {\r\n    return trackDiff(a, b, diffsAccumulator, pathString, diffTypes.different);\r\n  }\r\n\r\n  if (isReactElement(a) && isReactElement(b)) {\r\n    if (a.type !== b.type) {\r\n      return trackDiff(a, b, diffsAccumulator, pathString, diffTypes.different);\r\n    }\r\n\r\n    const reactElementPropsAreDeepEqual =\r\n      accumulateDeepEqualDiffs(a.props, b.props, [], `${pathString}.props`, { detailed });\r\n\r\n    return reactElementPropsAreDeepEqual ?\r\n      trackDiff(a, b, diffsAccumulator, pathString, diffTypes.reactElement) :\r\n      trackDiff(a, b, diffsAccumulator, pathString, diffTypes.different);\r\n  }\r\n\r\n  if (isFunction(a) && isFunction(b)) {\r\n    if (a.name !== b.name) {\r\n      return trackDiff(a, b, diffsAccumulator, pathString, diffTypes.different);\r\n    }\r\n\r\n    const aDependenciesObj = dependenciesMap.get(a);\r\n    const bDependenciesObj = dependenciesMap.get(b);\r\n\r\n    if (aDependenciesObj && bDependenciesObj) {\r\n      const dependenciesAreDeepEqual =\r\n        accumulateDeepEqualDiffs(aDependenciesObj.deps, bDependenciesObj.deps, diffsAccumulator, `${pathString}:parent-hook-${aDependenciesObj.hookName}-deps`, { detailed });\r\n\r\n      return dependenciesAreDeepEqual ?\r\n        trackDiff(a, b, diffsAccumulator, pathString, diffTypes.function) :\r\n        trackDiff(a, b, diffsAccumulator, pathString, diffTypes.different);\r\n    }\r\n\r\n    return trackDiff(a, b, diffsAccumulator, pathString, diffTypes.function);\r\n  }\r\n\r\n  if (typeof a === 'object' && typeof b === 'object' && Object.getPrototypeOf(a) === Object.getPrototypeOf(b)) {\r\n    const aKeys = Object.getOwnPropertyNames(a);\r\n    const bKeys = Object.getOwnPropertyNames(b);\r\n    \r\n    const allKeys = uniq([...aKeys, ...bKeys]);\r\n\r\n    const clonedA = isPlainObject(a) ? { ...a } : a;\r\n    const clonedB = isPlainObject(b) ? { ...b } : b;\r\n\r\n    if (allKeys.length !== aKeys.length || allKeys.length !== bKeys.length) {\r\n      return trackDiff(clonedA, clonedB, diffsAccumulator, pathString, diffTypes.different);\r\n    }\r\n\r\n    const relevantKeys = allKeys.filter(key => {\r\n      // do not compare the stack as it differ even though the errors are identical.\r\n      if (key === 'stack' && isError(a)) {\r\n        return false;\r\n      }\r\n\r\n      // getters checking is causing too much problems because of how it's used in js.\r\n      // not only getters can throw errors, they also cause side effects in many cases.\r\n      if (isGetter(a, key)) {\r\n        return false;\r\n      }\r\n\r\n      return true;\r\n    });\r\n\r\n    const keysLength = relevantKeys.length;\r\n\r\n    for (let i = keysLength; i--; i > 0) {\r\n      if (!has(b, relevantKeys[i])) {\r\n        return trackDiff(clonedA, clonedB, diffsAccumulator, pathString, diffTypes.different);\r\n      }\r\n    }\r\n\r\n    const objectValuesDiffs = [];\r\n    let numberOfDeepEqualsObjectValues = 0;\r\n    for (let i = keysLength; i--; i > 0) {\r\n      const key = relevantKeys[i];\r\n      const deepEquals = accumulateDeepEqualDiffs(a[key], b[key], objectValuesDiffs, `${pathString}.${key}`, { detailed });\r\n      if (deepEquals) {\r\n        numberOfDeepEqualsObjectValues++;\r\n      }\r\n    }\r\n\r\n    if (detailed || numberOfDeepEqualsObjectValues !== keysLength) {\r\n      diffsAccumulator.push(...objectValuesDiffs);\r\n    }\r\n\r\n    if (numberOfDeepEqualsObjectValues === keysLength) {\r\n      return trackDiff(clonedA, clonedB, diffsAccumulator, pathString, diffTypes.deepEquals);\r\n    }\r\n\r\n    return trackDiff(clonedA, clonedB, diffsAccumulator, pathString, diffTypes.different);\r\n  }\r\n\r\n  return trackDiff(a, b, diffsAccumulator, pathString, diffTypes.different);\r\n}\r\n\r\nexport default function calculateDeepEqualDiffs(a, b, initialPathString, { detailed = false } = {}) {\r\n  try {\r\n    const diffs = [];\r\n    accumulateDeepEqualDiffs(a, b, diffs, initialPathString, { detailed });\r\n    return diffs;\r\n  } catch (error) {\r\n    if ((error.message && error.message.match(/stack|recursion/i)) || (error.number === -2146828260)) {\r\n      // warn on circular references, don't crash.\r\n      // browsers throw different errors name and messages:\r\n      // chrome/safari: \"RangeError\", \"Maximum call stack size exceeded\"\r\n      // firefox: \"InternalError\", too much recursion\"\r\n      // edge: \"Error\", \"Out of stack space\"\r\n      // eslint-disable-next-line no-console\r\n      console.warn('Warning: why-did-you-render couldn\\'t handle circular references in props.', error.name, error.message);\r\n      return false;\r\n    }\r\n    throw error;\r\n  }\r\n}\r\n","import { sortBy, groupBy } from 'lodash';\r\n\r\nimport calculateDeepEqualDiffs from './calculateDeepEqualDiffs';\r\nimport { diffTypesDescriptions } from './consts';\r\n\r\nexport default function printDiff(value1, value2, { pathString, consoleLog }) {\r\n  const diffs = calculateDeepEqualDiffs(value1, value2, pathString, { detailed: true });\r\n\r\n  const keysLength = Math.max(...diffs.map(diff => diff.pathString.length)) + 2;\r\n\r\n  Object.entries(groupBy(sortBy(diffs, 'pathString'), 'diffType'))\r\n    .forEach(([diffType, diffs]) => {\r\n      consoleLog(`%c${diffTypesDescriptions[diffType]}:`, 'text-decoration: underline; color: blue;');\r\n      diffs.forEach(diff => {\r\n        consoleLog(`${diff.pathString}:`.padEnd(keysLength, ' '), diff.prevValue);\r\n      });\r\n    });\r\n}\r\n","import wdyrStore from './wdyrStore';\r\n\r\nimport { diffTypes, diffTypesDescriptions } from './consts';\r\nimport printDiff from './printDiff';\r\n\r\nconst moreInfoUrl = 'http://bit.ly/wdyr02';\r\nconst moreInfoHooksUrl = 'http://bit.ly/wdyr3';\r\n\r\nlet inHotReload = false;\r\n\r\nfunction shouldLog(reason, Component) {\r\n  if (inHotReload) {\r\n    return false;\r\n  }\r\n\r\n  if (wdyrStore.options.logOnDifferentValues) {\r\n    return true;\r\n  }\r\n\r\n  if (Component.whyDidYouRender && Component.whyDidYouRender.logOnDifferentValues) {\r\n    return true;\r\n  }\r\n\r\n  const hasDifferentValues = ((\r\n    reason.propsDifferences &&\r\n    reason.propsDifferences.some(diff => diff.diffType === diffTypes.different)\r\n  ) || (\r\n    reason.stateDifferences &&\r\n    reason.stateDifferences.some(diff => diff.diffType === diffTypes.different)\r\n  ) || (\r\n    reason.hookDifferences &&\r\n    reason.hookDifferences.some(diff => diff.diffType === diffTypes.different)\r\n  ));\r\n\r\n  return !hasDifferentValues;\r\n}\r\n\r\nfunction logDifference({ Component, displayName, hookName, prefixMessage, diffObjType, differences, values }) {\r\n  if (differences && differences.length > 0) {\r\n    wdyrStore.options.consoleLog({ [displayName]: Component }, `${prefixMessage} of ${diffObjType} changes:`);\r\n    differences.forEach(({ pathString, diffType, prevValue, nextValue }) => {\r\n      function diffFn() {\r\n        printDiff(prevValue, nextValue, { pathString, consoleLog: wdyrStore.options.consoleLog });\r\n      }\r\n      wdyrStore.options.consoleGroup(\r\n        `%c${diffObjType === 'hook' ? `[hook ${hookName} result]` : `${diffObjType}.`}%c${pathString}%c`,\r\n        `color:${wdyrStore.options.diffNameColor};`, `color:${wdyrStore.options.diffPathColor};`, 'color:default;'\r\n      );\r\n      wdyrStore.options.consoleLog(\r\n        `${diffTypesDescriptions[diffType]}. (more info at ${hookName ? moreInfoHooksUrl : moreInfoUrl})`,\r\n      );\r\n      wdyrStore.options.consoleLog({ [`prev ${pathString}`]: prevValue }, '!==', { [`next ${pathString}`]: nextValue });\r\n      if (diffType === diffTypes.deepEquals) {\r\n        wdyrStore.options.consoleLog({ 'For detailed diff, right click the following fn, save as global, and run: ': diffFn });\r\n      }\r\n      wdyrStore.options.consoleGroupEnd();\r\n    });\r\n  }\r\n  else if (differences) {\r\n    wdyrStore.options.consoleLog(\r\n      { [displayName]: Component },\r\n      `${prefixMessage} the ${diffObjType} object itself changed but its values are all equal.`,\r\n      diffObjType === 'props' ?\r\n        'This could have been avoided by making the component pure, or by preventing its father from re-rendering.' :\r\n        'This usually means this component called setState when no changes in its state actually occurred.',\r\n      `More info at ${moreInfoUrl}`\r\n    );\r\n    wdyrStore.options.consoleLog(`prev ${diffObjType}:`, values.prev, ' !== ', values.next, `:next ${diffObjType}`);\r\n  }\r\n}\r\n\r\nexport default function defaultNotifier(updateInfo) {\r\n  const { Component, displayName, hookName, prevProps, prevState, prevHook, nextProps, nextState, nextHook, reason } = updateInfo;\r\n\r\n  if (!shouldLog(reason, Component, wdyrStore.options)) {\r\n    return;\r\n  }\r\n\r\n  wdyrStore.options.consoleGroup(`%c${displayName}`, `color: ${wdyrStore.options.titleColor};`);\r\n\r\n  let prefixMessage = 'Re-rendered because';\r\n\r\n  if (reason.propsDifferences) {\r\n    logDifference({\r\n      Component,\r\n      displayName,\r\n      prefixMessage,\r\n      diffObjType: 'props',\r\n      differences: reason.propsDifferences,\r\n      values: { prev: prevProps, next: nextProps },\r\n    });\r\n    prefixMessage = 'And because';\r\n  }\r\n\r\n  if (reason.stateDifferences) {\r\n    logDifference({\r\n      Component,\r\n      displayName,\r\n      prefixMessage,\r\n      diffObjType: 'state',\r\n      differences: reason.stateDifferences,\r\n      values: { prev: prevState, next: nextState },\r\n    });\r\n  }\r\n\r\n  if (reason.hookDifferences) {\r\n    logDifference({\r\n      Component,\r\n      displayName,\r\n      prefixMessage,\r\n      diffObjType: 'hook',\r\n      differences: reason.hookDifferences,\r\n      values: { prev: prevHook, next: nextHook },\r\n      hookName,\r\n    });\r\n  }\r\n\r\n  if (reason.propsDifferences && reason.ownerDifferences) {\r\n    const prevOwnerData = wdyrStore.ownerDataMap.get(prevProps);\r\n    const nextOwnerData = wdyrStore.ownerDataMap.get(nextProps);\r\n\r\n    wdyrStore.options.consoleGroup(`Rendered by ${nextOwnerData.displayName}`);\r\n    let prefixMessage = 'Re-rendered because';\r\n\r\n    if (reason.ownerDifferences.propsDifferences) {\r\n      logDifference({\r\n        Component: nextOwnerData.Component,\r\n        displayName: nextOwnerData.displayName,\r\n        prefixMessage,\r\n        diffObjType: 'props',\r\n        differences: reason.ownerDifferences.propsDifferences,\r\n        values: { prev: prevOwnerData.props, next: nextOwnerData.props },\r\n      });\r\n      prefixMessage = 'And because';\r\n    }\r\n\r\n    if (reason.ownerDifferences.stateDifferences) {\r\n      logDifference({\r\n        Component: nextOwnerData.Component,\r\n        displayName: nextOwnerData.displayName,\r\n        prefixMessage,\r\n        diffObjType: 'state',\r\n        differences: reason.ownerDifferences.stateDifferences,\r\n        values: { prev: prevOwnerData.state, next: nextOwnerData.state },\r\n      });\r\n    }\r\n\r\n    if (reason.ownerDifferences.hookDifferences) {\r\n      reason.ownerDifferences.hookDifferences.forEach(({ hookName, differences }, i) =>\r\n        logDifference({\r\n          Component: nextOwnerData.Component,\r\n          displayName: nextOwnerData.displayName,\r\n          prefixMessage,\r\n          diffObjType: 'hook',\r\n          differences,\r\n          values: { prev: prevOwnerData.hooks[i].result, next: nextOwnerData.hooks[i].result },\r\n          hookName,\r\n        })\r\n      );\r\n    }\r\n    wdyrStore.options.consoleGroupEnd();\r\n  }\r\n\r\n  if (!reason.propsDifferences && !reason.stateDifferences && !reason.hookDifferences) {\r\n    wdyrStore.options.consoleLog(\r\n      { [displayName]: Component },\r\n      'Re-rendered although props and state objects are the same.',\r\n      'This usually means there was a call to this.forceUpdate() inside the component.',\r\n      `more info at ${moreInfoUrl}`\r\n    );\r\n  }\r\n\r\n  wdyrStore.options.consoleGroupEnd();\r\n}\r\n\r\nexport function createDefaultNotifier(hotReloadBufferMs) {\r\n  if (hotReloadBufferMs) {\r\n    if (typeof(module) !== 'undefined' && module.hot && module.hot.addStatusHandler) {\r\n      module.hot.addStatusHandler(status => {\r\n        if (status === 'idle') {\r\n          inHotReload = true;\r\n          setTimeout(() => {\r\n            inHotReload = false;\r\n          }, hotReloadBufferMs);\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  return defaultNotifier;\r\n}\r\n","/* eslint-disable no-console */\r\nimport { createDefaultNotifier } from './defaultNotifier';\r\n\r\nconst emptyFn = () => {};\r\n\r\nexport default function normalizeOptions(userOptions = {}) {\r\n  let consoleGroup = console.group;\r\n  let consoleGroupEnd = console.groupEnd;\r\n\r\n  if (userOptions.collapseGroups) {\r\n    consoleGroup = console.groupCollapsed;\r\n  }\r\n  else if (userOptions.onlyLogs) {\r\n    consoleGroup = console.log;\r\n    consoleGroupEnd = emptyFn;\r\n  }\r\n\r\n  const notifier = userOptions.notifier || (\r\n    createDefaultNotifier(\r\n      ('hotReloadBufferMs' in userOptions) ? userOptions.hotReloadBufferMs : 500\r\n    )\r\n  );\r\n\r\n  return {\r\n    include: null,\r\n    exclude: null,\r\n    notifier,\r\n    onlyLogs: false,\r\n    consoleLog: console.log,\r\n    consoleGroup,\r\n    consoleGroupEnd,\r\n    logOnDifferentValues: false,\r\n    logOwnerReasons: true,\r\n    trackHooks: true,\r\n    titleColor: '#058',\r\n    diffNameColor: 'blue',\r\n    diffPathColor: 'red',\r\n    trackExtraHooks: [],\r\n    trackAllPureComponents: false,\r\n    ...userOptions,\r\n  };\r\n}\r\n","import { isString } from 'lodash';\r\n\r\nexport default function getDisplayName(type) {\r\n  return (\r\n    type.displayName ||\r\n    type.name ||\r\n    (type.type && getDisplayName(type.type)) ||\r\n    (type.render && getDisplayName(type.render)) ||\r\n    (isString(type) ? type : 'Unknown')\r\n  );\r\n}\r\n","export default function getDefaultProps(type) {\r\n  return (\r\n    type.defaultProps ||\r\n    (type.type && getDefaultProps(type.type)) ||\r\n    (type.render && getDefaultProps(type.render)) ||\r\n    {}\r\n  );\r\n}\r\n","import { reduce } from 'lodash';\r\nimport calculateDeepEqualDiffs from './calculateDeepEqualDiffs';\r\n\r\nconst emptyObject = {};\r\n\r\nexport default function findObjectsDifferences(userPrevObj, userNextObj, { shallow = true } = {}) {\r\n  if (userPrevObj === userNextObj) {\r\n    return false;\r\n  }\r\n\r\n  if (!shallow) {\r\n    return calculateDeepEqualDiffs(userPrevObj, userNextObj);\r\n  }\r\n\r\n  const prevObj = userPrevObj || emptyObject;\r\n  const nextObj = userNextObj || emptyObject;\r\n\r\n  const keysOfBothObjects = Object.keys({ ...prevObj, ...nextObj });\r\n\r\n  return reduce(keysOfBothObjects, (result, key) => {\r\n    const deepEqualDiffs = calculateDeepEqualDiffs(prevObj[key], nextObj[key], key);\r\n    if (deepEqualDiffs) {\r\n      result = [\r\n        ...result,\r\n        ...deepEqualDiffs,\r\n      ];\r\n    }\r\n    return result;\r\n  }, []);\r\n}\r\n","import findObjectsDifferences from './findObjectsDifferences';\r\nimport wdyrStore from './wdyrStore';\r\n\r\nfunction getOwnerDifferences({ prevOwnerData, nextOwnerData }) {\r\n  if (!prevOwnerData || !nextOwnerData) {\r\n    return false;\r\n  }\r\n\r\n  // in strict mode prevOwnerData might be twice as lengthy because of double renders\r\n  const prevOwnerDataHooks = prevOwnerData.hooks.length === nextOwnerData.hooks.length * 2 ?\r\n    prevOwnerData.hooks.slice(prevOwnerData.hooks.length / 2) :\r\n    prevOwnerData.hooks;\r\n\r\n  const hookDifferences = prevOwnerDataHooks.map(({ hookName, result }, i) => ({\r\n    hookName,\r\n    differences: findObjectsDifferences(result, nextOwnerData.hooks[i].result, { shallow: false }),\r\n  }));\r\n\r\n  return {\r\n    propsDifferences: findObjectsDifferences(prevOwnerData.props, nextOwnerData.props),\r\n    stateDifferences: findObjectsDifferences(prevOwnerData.state, nextOwnerData.state),\r\n    hookDifferences: hookDifferences.length > 0 ? hookDifferences : false,\r\n  };\r\n}\r\n\r\nfunction getUpdateReason(prevProps, prevState, prevHook, nextProps, nextState, nextHook) {\r\n  const prevOwnerData = wdyrStore.ownerDataMap.get(prevProps);\r\n  const nextOwnerData = wdyrStore.ownerDataMap.get(nextProps);\r\n\r\n  return {\r\n    propsDifferences: findObjectsDifferences(prevProps, nextProps),\r\n    stateDifferences: findObjectsDifferences(prevState, nextState),\r\n    hookDifferences: findObjectsDifferences(prevHook, nextHook, { shallow: false }),\r\n    ownerDifferences: getOwnerDifferences({ prevOwnerData, nextOwnerData }),\r\n  };\r\n}\r\n\r\nexport default function getUpdateInfo({ Component, displayName, hookName, prevProps, prevState, prevHook, nextProps, nextState, nextHook }) {\r\n  return {\r\n    Component,\r\n    displayName,\r\n    hookName,\r\n    prevProps,\r\n    prevState,\r\n    prevHook,\r\n    nextProps,\r\n    nextState,\r\n    nextHook,\r\n    reason: getUpdateReason(prevProps, prevState, prevHook, nextProps, nextState, nextHook),\r\n  };\r\n}\r\n","// copied from https://github.com/facebook/react/blob/master/packages/react-reconciler/src/ReactTypeOfMode.js\r\nimport { REACT_FORWARD_REF_TYPE, REACT_MEMO_TYPE } from './consts';\r\n\r\nconst StrictMode = 0b0001;\r\n\r\n// based on \"findStrictRoot\" from https://github.com/facebook/react/blob/master/packages/react-reconciler/src/ReactStrictModeWarnings.js\r\n// notice: this is only used for class components. functional components doesn't render twice inside strict mode\r\nexport function checkIfInsideAStrictModeTree(reactComponentInstance) {\r\n  let reactInternalFiber = reactComponentInstance && (\r\n    reactComponentInstance._reactInternalFiber ||\r\n    reactComponentInstance._reactInternals\r\n  );\r\n\r\n  while (reactInternalFiber) {\r\n    if (reactInternalFiber.mode & StrictMode) {\r\n      return true;\r\n    }\r\n    reactInternalFiber = reactInternalFiber.return;\r\n  }\r\n  return false;\r\n}\r\n\r\nexport function isReactClassComponent(Component) {\r\n  return Component.prototype && !!Component.prototype.isReactComponent;\r\n}\r\n\r\nexport function isMemoComponent(Component) {\r\n  return Component.$$typeof === REACT_MEMO_TYPE;\r\n}\r\n\r\nexport function isForwardRefComponent(Component) {\r\n  return Component.$$typeof === REACT_FORWARD_REF_TYPE;\r\n}\r\n","import wdyrStore from './wdyrStore';\r\n\r\nimport { isMemoComponent } from './utils';\r\nimport getDisplayName from './getDisplayName';\r\n\r\nfunction shouldInclude(displayName) {\r\n  return (\r\n    wdyrStore.options.include &&\r\n    wdyrStore.options.include.length > 0 &&\r\n    wdyrStore.options.include.some(regex => regex.test(displayName))\r\n  );\r\n}\r\n\r\nfunction shouldExclude(displayName) {\r\n  return (\r\n    wdyrStore.options.exclude &&\r\n    wdyrStore.options.exclude.length > 0 &&\r\n    wdyrStore.options.exclude.some(regex => regex.test(displayName))\r\n  );\r\n}\r\n\r\nexport default function shouldTrack(Component, { isHookChange }) {\r\n  const displayName = getDisplayName(Component);\r\n\r\n  if (shouldExclude(displayName)) {\r\n    return false;\r\n  }\r\n\r\n  if (Component.whyDidYouRender === false) {\r\n    return false;\r\n  }\r\n\r\n  if (isHookChange && (\r\n    Component.whyDidYouRender && Component.whyDidYouRender.trackHooks === false\r\n  )) {\r\n    return false;\r\n  }\r\n\r\n  return !!(\r\n    Component.whyDidYouRender || (\r\n      wdyrStore.options.trackAllPureComponents && (\r\n        (Component && Component.prototype instanceof wdyrStore.React.PureComponent) ||\r\n        isMemoComponent(Component)\r\n      )\r\n    ) ||\r\n    shouldInclude(displayName)\r\n  );\r\n}\r\n","import { defaults } from 'lodash';\r\n\r\nimport wdyrStore from '../wdyrStore';\r\n\r\nimport { checkIfInsideAStrictModeTree } from '../utils';\r\nimport getUpdateInfo from '../getUpdateInfo';\r\n\r\nexport default function patchClassComponent(ClassComponent, { displayName, defaultProps }) {\r\n  class WDYRPatchedClassComponent extends ClassComponent {\r\n    constructor(props, context) {\r\n      super(props, context);\r\n\r\n      this._WDYR = {\r\n        renderNumber: 0,\r\n      };\r\n\r\n      const origRender = super.render || this.render;\r\n\r\n      // this probably means that render is an arrow function or this.render.bind(this) was called on the original class\r\n      const renderIsABindedFunction = origRender !== ClassComponent.prototype.render;\r\n      if (renderIsABindedFunction) {\r\n        this.render = () => {\r\n          WDYRPatchedClassComponent.prototype.render.apply(this);\r\n          return origRender();\r\n        };\r\n      }\r\n    }\r\n    render() {\r\n      this._WDYR.renderNumber++;\r\n\r\n      if (!('isStrictMode' in this._WDYR)) {\r\n        this._WDYR.isStrictMode = checkIfInsideAStrictModeTree(this);\r\n      }\r\n\r\n      // in strict mode- ignore every other render\r\n      if (!(this._WDYR.isStrictMode && this._WDYR.renderNumber % 2 === 1)) {\r\n        if (this._WDYR.prevProps) {\r\n          const updateInfo = getUpdateInfo({\r\n            Component: ClassComponent,\r\n            displayName,\r\n            prevProps: this._WDYR.prevProps,\r\n            prevState: this._WDYR.prevState,\r\n            nextProps: this.props,\r\n            nextState: this.state,\r\n          });\r\n\r\n          wdyrStore.options.notifier(updateInfo);\r\n        }\r\n\r\n        this._WDYR.prevProps = this.props;\r\n        this._WDYR.prevState = this.state;\r\n      }\r\n\r\n      return super.render ? super.render() : null;\r\n    }\r\n  }\r\n\r\n  try {\r\n    WDYRPatchedClassComponent.displayName = displayName;\r\n  } catch (e) {\r\n    // not crucial if displayName couldn't be set\r\n  }\r\n\r\n  WDYRPatchedClassComponent.defaultProps = defaultProps;\r\n\r\n  defaults(WDYRPatchedClassComponent, ClassComponent);\r\n\r\n  return WDYRPatchedClassComponent;\r\n}\r\n","import { defaults } from 'lodash';\r\n\r\nimport wdyrStore from '../wdyrStore';\r\n\r\nimport getUpdateInfo from '../getUpdateInfo';\r\n\r\nconst getFunctionalComponentFromStringComponent = (componentTypeStr) => props => (\r\n  wdyrStore.React.createElement(componentTypeStr, props)\r\n);\r\n\r\nexport default function patchFunctionalOrStrComponent(FunctionalOrStringComponent, { isPure, displayName, defaultProps }) {\r\n  const FunctionalComponent = typeof(FunctionalOrStringComponent) === 'string' ?\r\n    getFunctionalComponentFromStringComponent(FunctionalOrStringComponent) :\r\n    FunctionalOrStringComponent;\r\n\r\n  function WDYRFunctionalComponent() {\r\n    const nextProps = arguments[0];\r\n    const ref = wdyrStore.React.useRef();\r\n\r\n    const prevProps = ref.current;\r\n    ref.current = nextProps;\r\n\r\n    if (prevProps) {\r\n      const updateInfo = getUpdateInfo({\r\n        Component: FunctionalComponent,\r\n        displayName,\r\n        prevProps,\r\n        nextProps,\r\n      });\r\n\r\n      const notifiedByHooks = (\r\n        !updateInfo.reason.propsDifferences || (\r\n          (isPure && updateInfo.reason.propsDifferences.length === 0)\r\n        )\r\n      );\r\n\r\n      if (!notifiedByHooks) {\r\n        wdyrStore.options.notifier(updateInfo);\r\n      }\r\n    }\r\n\r\n    return FunctionalComponent(...arguments);\r\n  }\r\n\r\n  try {\r\n    WDYRFunctionalComponent.displayName = displayName;\r\n  } catch (e) {\r\n    // not crucial if displayName couldn't be set\r\n  }\r\n\r\n  WDYRFunctionalComponent.defaultProps = defaultProps;\r\n\r\n  WDYRFunctionalComponent.ComponentForHooksTracking = FunctionalComponent;\r\n  defaults(WDYRFunctionalComponent, FunctionalComponent);\r\n\r\n  return WDYRFunctionalComponent;\r\n}\r\n","import { defaults } from 'lodash';\r\n\r\nimport wdyrStore from '../wdyrStore';\r\n\r\nimport getDisplayName from '../getDisplayName';\r\nimport { isForwardRefComponent, isMemoComponent, isReactClassComponent } from '../utils';\r\nimport patchClassComponent from './patchClassComponent';\r\nimport patchFunctionalOrStrComponent from './patchFunctionalOrStrComponent';\r\n\r\nexport default function patchMemoComponent(MemoComponent, { displayName, defaultProps }) {\r\n  const { type: InnerMemoComponent } = MemoComponent;\r\n\r\n  const isInnerMemoComponentAClassComponent = isReactClassComponent(InnerMemoComponent);\r\n  const isInnerMemoComponentForwardRefs = isForwardRefComponent(InnerMemoComponent);\r\n  const isInnerMemoComponentAnotherMemoComponent = isMemoComponent(InnerMemoComponent);\r\n\r\n  const WrappedFunctionalComponent = isInnerMemoComponentForwardRefs ?\r\n    InnerMemoComponent.render :\r\n    InnerMemoComponent;\r\n\r\n  const PatchedInnerComponent = isInnerMemoComponentAClassComponent ?\r\n    patchClassComponent(WrappedFunctionalComponent, { displayName, defaultProps }) :\r\n    (isInnerMemoComponentAnotherMemoComponent ?\r\n      patchMemoComponent(WrappedFunctionalComponent, { displayName, defaultProps }) :\r\n      patchFunctionalOrStrComponent(WrappedFunctionalComponent, { displayName, isPure: true })\r\n    );\r\n\r\n  try {\r\n    PatchedInnerComponent.displayName = getDisplayName(WrappedFunctionalComponent);\r\n  } catch (e) {\r\n    // not crucial if displayName couldn't be set\r\n  }\r\n\r\n  PatchedInnerComponent.ComponentForHooksTracking = MemoComponent;\r\n  defaults(PatchedInnerComponent, WrappedFunctionalComponent);\r\n\r\n  const WDYRMemoizedFunctionalComponent = wdyrStore.React.memo(\r\n    isInnerMemoComponentForwardRefs ? wdyrStore.React.forwardRef(PatchedInnerComponent) : PatchedInnerComponent,\r\n    MemoComponent.compare\r\n  );\r\n\r\n  try {\r\n    WDYRMemoizedFunctionalComponent.displayName = displayName;\r\n  } catch (e) {\r\n    // not crucial if displayName couldn't be set\r\n  }\r\n\r\n  WDYRMemoizedFunctionalComponent.defaultProps = defaultProps;\r\n\r\n  defaults(WDYRMemoizedFunctionalComponent, MemoComponent);\r\n\r\n  return WDYRMemoizedFunctionalComponent;\r\n}\r\n","import { defaults } from 'lodash';\r\n\r\nimport wdyrStore from '../wdyrStore';\r\n\r\nimport getDisplayName from '../getDisplayName';\r\nimport { isMemoComponent } from '../utils';\r\nimport patchFunctionalOrStrComponent from './patchFunctionalOrStrComponent';\r\n\r\nexport default function patchForwardRefComponent(ForwardRefComponent, { displayName, defaultProps }) {\r\n  const { render: InnerForwardRefComponent } = ForwardRefComponent;\r\n\r\n  const isInnerComponentMemoized = isMemoComponent(InnerForwardRefComponent);\r\n  const WrappedFunctionalComponent = isInnerComponentMemoized ?\r\n    InnerForwardRefComponent.type : InnerForwardRefComponent;\r\n\r\n  const WDYRWrappedByReactForwardRefFunctionalComponent = (\r\n    patchFunctionalOrStrComponent(WrappedFunctionalComponent, { isPure: isInnerComponentMemoized, displayName })\r\n  );\r\n\r\n  WDYRWrappedByReactForwardRefFunctionalComponent.displayName = getDisplayName(WrappedFunctionalComponent);\r\n  WDYRWrappedByReactForwardRefFunctionalComponent.ComponentForHooksTracking = WrappedFunctionalComponent;\r\n  defaults(WDYRWrappedByReactForwardRefFunctionalComponent, WrappedFunctionalComponent);\r\n\r\n  const WDYRForwardRefFunctionalComponent = wdyrStore.React.forwardRef(\r\n    isInnerComponentMemoized ?\r\n      wdyrStore.React.memo(WDYRWrappedByReactForwardRefFunctionalComponent, InnerForwardRefComponent.compare) :\r\n      WDYRWrappedByReactForwardRefFunctionalComponent\r\n  );\r\n\r\n  try {\r\n    WDYRForwardRefFunctionalComponent.displayName = displayName;\r\n  } catch (e) {\r\n    // not crucial if displayName couldn't be set\r\n  }\r\n\r\n  WDYRForwardRefFunctionalComponent.defaultProps = defaultProps;\r\n\r\n  defaults(WDYRForwardRefFunctionalComponent, ForwardRefComponent);\r\n\r\n  return WDYRForwardRefFunctionalComponent;\r\n}\r\n","import { get, isFunction } from 'lodash';\r\n\r\nimport wdyrStore from './wdyrStore';\r\n\r\nimport normalizeOptions from './normalizeOptions';\r\nimport getDisplayName from './getDisplayName';\r\nimport getDefaultProps from './getDefaultProps';\r\nimport getUpdateInfo from './getUpdateInfo';\r\nimport shouldTrack from './shouldTrack';\r\n\r\nimport patchClassComponent from './patches/patchClassComponent';\r\nimport patchFunctionalOrStrComponent from './patches/patchFunctionalOrStrComponent';\r\nimport patchMemoComponent from './patches/patchMemoComponent';\r\nimport patchForwardRefComponent from './patches/patchForwardRefComponent';\r\n\r\nimport { isForwardRefComponent, isMemoComponent, isReactClassComponent } from './utils';\r\nimport { dependenciesMap } from './calculateDeepEqualDiffs';\r\n\r\nexport { wdyrStore };\r\n\r\nconst initialHookValue = Symbol('initial-hook-value');\r\n\r\nfunction trackHookChanges(hookName, { path: hookPath }, hookResult) {\r\n  const nextHook = hookPath ? get(hookResult, hookPath) : hookResult;\r\n\r\n  const renderNumberForTheHook = wdyrStore.React.useRef(true);\r\n\r\n  // TODO: improve\r\n  const isSecondCycleOfRenders = (\r\n    wdyrStore.hooksPerRender[0] &&\r\n    wdyrStore.hooksPerRender[0].renderNumberForTheHook !== renderNumberForTheHook.current\r\n  );\r\n\r\n  if (isSecondCycleOfRenders) {\r\n    wdyrStore.hooksPerRender = [];\r\n  }\r\n\r\n  wdyrStore.hooksPerRender.push({ hookName, result: nextHook, renderNumberForTheHook: renderNumberForTheHook.current });\r\n\r\n  renderNumberForTheHook.current++;\r\n\r\n  const ComponentHookDispatchedFromInstance = (\r\n    wdyrStore.React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED &&\r\n    wdyrStore.React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner.current\r\n  );\r\n\r\n  const prevHookRef = wdyrStore.React.useRef(initialHookValue);\r\n\r\n  if (!ComponentHookDispatchedFromInstance) {\r\n    return hookResult;\r\n  }\r\n\r\n  const Component = ComponentHookDispatchedFromInstance.type.ComponentForHooksTracking || ComponentHookDispatchedFromInstance.type;\r\n  const displayName = getDisplayName(Component);\r\n\r\n  const isShouldTrack = shouldTrack(Component, { isHookChange: true });\r\n  if (!isShouldTrack) {\r\n    return hookResult;\r\n  }\r\n\r\n  const newPrevHookRef = prevHookRef.current;\r\n  prevHookRef.current = hookResult;\r\n\r\n  if (newPrevHookRef !== initialHookValue) {\r\n    const notification = getUpdateInfo({\r\n      Component: Component,\r\n      displayName,\r\n      hookName,\r\n      prevHook: hookPath ? get(newPrevHookRef, hookPath) : newPrevHookRef,\r\n      nextHook,\r\n    });\r\n\r\n    if (notification.reason.hookDifferences) {\r\n      wdyrStore.options.notifier(notification);\r\n    }\r\n  }\r\n\r\n  return hookResult;\r\n}\r\n\r\nfunction createPatchedComponent(Component, { displayName, defaultProps }) {\r\n  if (isMemoComponent(Component)) {\r\n    return patchMemoComponent(Component, { displayName, defaultProps });\r\n  }\r\n\r\n  if (isForwardRefComponent(Component)) {\r\n    return patchForwardRefComponent(Component, { displayName, defaultProps });\r\n  }\r\n\r\n  if (isReactClassComponent(Component)) {\r\n    return patchClassComponent(Component, { displayName, defaultProps });\r\n  }\r\n\r\n  return patchFunctionalOrStrComponent(Component, { displayName, defaultProps, isPure: false });\r\n}\r\n\r\nfunction getPatchedComponent(Component, { displayName, defaultProps }) {\r\n  if (wdyrStore.componentsMap.has(Component)) {\r\n    return wdyrStore.componentsMap.get(Component);\r\n  }\r\n\r\n  const WDYRPatchedComponent = createPatchedComponent(Component, { displayName, defaultProps });\r\n\r\n  wdyrStore.componentsMap.set(Component, WDYRPatchedComponent);\r\n\r\n  return WDYRPatchedComponent;\r\n}\r\n\r\nfunction getIsSupportedComponentType(Comp) {\r\n  if (!Comp) {\r\n    return false;\r\n  }\r\n\r\n  if (isMemoComponent(Comp)) {\r\n    return getIsSupportedComponentType(Comp.type);\r\n  }\r\n\r\n  if (isForwardRefComponent(Comp)) {\r\n    return getIsSupportedComponentType(Comp.render);\r\n  }\r\n\r\n  if (typeof Comp === 'function') {\r\n    return true;\r\n  }\r\n}\r\n\r\nexport const hooksConfig = {\r\n  useState: { path: '0' },\r\n  useReducer: { path: '0' },\r\n  useContext: undefined,\r\n  useMemo: { dependenciesPath: '1', dontReport: true },\r\n  useCallback: { dependenciesPath: '1', dontReport: true },\r\n};\r\n\r\nexport function storeOwnerData(element) {\r\n  const OwnerInstance = wdyrStore.React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner.current;\r\n  if (OwnerInstance) {\r\n    const Component = OwnerInstance.type.ComponentForHooksTracking || OwnerInstance.type;\r\n    const displayName = getDisplayName(Component);\r\n\r\n    let additionalOwnerData = {};\r\n    if (wdyrStore.options.getAdditionalOwnerData) {\r\n      additionalOwnerData = wdyrStore.options.getAdditionalOwnerData(element);\r\n    }\r\n\r\n    wdyrStore.ownerDataMap.set(element.props, {\r\n      Component,\r\n      displayName,\r\n      props: OwnerInstance.pendingProps,\r\n      state: OwnerInstance.stateNode ? OwnerInstance.stateNode.state : null,\r\n      hooks: wdyrStore.hooksPerRender,\r\n      additionalOwnerData,\r\n    });\r\n  }\r\n}\r\n\r\nfunction resetHooksPerRenderIfNeeded() {\r\n  // Intercept assignments to ReactCurrentOwner.current to reset hooksPerRender\r\n  let currentOwner = null;\r\n  if (wdyrStore.React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED) {\r\n    Object.defineProperty(wdyrStore.React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner, 'current', {\r\n      get() {\r\n        return currentOwner;\r\n      },\r\n      set(value) {\r\n        currentOwner = value;\r\n        wdyrStore.hooksPerRender = [];\r\n      },\r\n    });\r\n  }\r\n}\r\n\r\nfunction trackHooksIfNeeded() {\r\n  const hooksSupported = !!wdyrStore.React.useState;\r\n\r\n  if (wdyrStore.options.trackHooks && hooksSupported) {\r\n    const nativeHooks = Object.entries(hooksConfig).map(([hookName, hookTrackingConfig]) => {\r\n      return [wdyrStore.React, hookName, hookTrackingConfig];\r\n    });\r\n\r\n    const hooksToTrack = [\r\n      ...nativeHooks,\r\n      ...wdyrStore.options.trackExtraHooks,\r\n    ];\r\n\r\n    hooksToTrack.forEach(([hookParent, hookName, hookTrackingConfig = {}]) => {\r\n      const originalHook = hookParent[hookName];\r\n      const newHookName = hookName[0].toUpperCase() + hookName.slice(1);\r\n\r\n      const newHook = function(...args) {\r\n        const hookResult = originalHook.call(this, ...args);\r\n        const { dependenciesPath, dontReport } = hookTrackingConfig;\r\n        if (dependenciesPath && isFunction(hookResult)) {\r\n          dependenciesMap.set(hookResult, { hookName, deps: get(args, dependenciesPath) });\r\n        }\r\n        if (!dontReport) {\r\n          trackHookChanges(hookName, hookTrackingConfig, hookResult);\r\n        }\r\n        return hookResult;\r\n      };\r\n\r\n      Object.defineProperty(newHook, 'name', { value: newHookName, writable: false });\r\n      Object.assign(newHook, { originalHook });\r\n      hookParent[hookName] = newHook;\r\n    });\r\n  }\r\n}\r\n\r\nexport function getWDYRType(origType) {\r\n  const isShouldTrack = (\r\n    getIsSupportedComponentType(origType) &&\r\n    shouldTrack(origType, { isHookChange: false })\r\n  );\r\n\r\n  if (!isShouldTrack) {\r\n    return null;\r\n  }\r\n\r\n  const displayName = (\r\n    origType &&\r\n    origType.whyDidYouRender &&\r\n    origType.whyDidYouRender.customName ||\r\n    getDisplayName(origType)\r\n  );\r\n\r\n  const defaultProps = getDefaultProps(origType);\r\n\r\n  const WDYRPatchedComponent = getPatchedComponent(origType, { displayName, defaultProps });\r\n\r\n  return WDYRPatchedComponent;\r\n}\r\n\r\nexport default function whyDidYouRender(React, userOptions) {\r\n  if (React.isWDYR) {\r\n    return;\r\n  }\r\n\r\n  Object.assign(wdyrStore, {\r\n    React,\r\n    options: normalizeOptions(userOptions),\r\n    origCreateElement: React.createElement,\r\n    origCreateFactory: React.createFactory,\r\n    origCloneElement: React.cloneElement,\r\n    componentsMap: new WeakMap(),\r\n  });\r\n\r\n  resetHooksPerRenderIfNeeded();\r\n\r\n  React.createElement = function(origType, ...rest) {\r\n    const WDYRType = getWDYRType(origType);\r\n    if (WDYRType) {\r\n      try {\r\n        const element = wdyrStore.origCreateElement.apply(React, [WDYRType, ...rest]);\r\n        if (wdyrStore.options.logOwnerReasons) {\r\n          storeOwnerData(element);\r\n        }\r\n        return element;\r\n      }\r\n      catch (e) {\r\n        wdyrStore.options.consoleLog('whyDidYouRender error. Please file a bug at https://github.com/welldone-software/why-did-you-render/issues.', {\r\n          errorInfo: {\r\n            error: e,\r\n            componentNameOrComponent: origType,\r\n            rest,\r\n            options: wdyrStore.options,\r\n          },\r\n        });\r\n      }\r\n    }\r\n\r\n    return wdyrStore.origCreateElement.apply(React, [origType, ...rest]);\r\n  };\r\n  Object.assign(React.createElement, wdyrStore.origCreateElement);\r\n\r\n  React.createFactory = type => {\r\n    const factory = React.createElement.bind(null, type);\r\n    factory.type = type;\r\n    return factory;\r\n  };\r\n  Object.assign(React.createFactory, wdyrStore.origCreateFactory);\r\n\r\n  React.cloneElement = (...args) => {\r\n    const element = wdyrStore.origCloneElement.apply(React, args);\r\n    if (wdyrStore.options.logOwnerReasons) {\r\n      storeOwnerData(element);\r\n    }\r\n\r\n    return element;\r\n  };\r\n  Object.assign(React.cloneElement, wdyrStore.origCloneElement);\r\n\r\n  trackHooksIfNeeded();\r\n\r\n  React.isWDYR = true;\r\n\r\n  React.__REVERT_WHY_DID_YOU_RENDER__ = () => {\r\n    Object.assign(React, {\r\n      createElement: wdyrStore.origCreateElement,\r\n      createFactory: wdyrStore.origCreateFactory,\r\n      cloneElement: wdyrStore.origCloneElement,\r\n    });\r\n\r\n    wdyrStore.componentsMap = null;\r\n\r\n    const hooksToRevert = [\r\n      ...Object.keys(hooksConfig).map(hookName => [React, hookName]),\r\n      ...wdyrStore.options.trackExtraHooks,\r\n    ];\r\n    hooksToRevert.forEach(([hookParent, hookName]) => {\r\n      if (hookParent[hookName].originalHook) {\r\n        hookParent[hookName] = hookParent[hookName].originalHook;\r\n      }\r\n    });\r\n\r\n    delete React.__REVERT_WHY_DID_YOU_RENDER__;\r\n    delete React.isWDYR;\r\n  };\r\n\r\n  return React;\r\n}\r\n","import * as React from 'react';\r\n\r\nimport wdyrStore from './wdyrStore';\r\n\r\nimport whyDidYouRender, { storeOwnerData, getWDYRType } from './whyDidYouRender';\r\nimport defaultNotifier from './defaultNotifier';\r\n\r\nwhyDidYouRender.defaultNotifier = defaultNotifier;\r\nwhyDidYouRender.wdyrStore = wdyrStore;\r\nwhyDidYouRender.storeOwnerData = storeOwnerData;\r\nwhyDidYouRender.getWDYRType = getWDYRType;\r\nObject.assign(whyDidYouRender, React);\r\n\r\nexport default whyDidYouRender;\r\n"]},"metadata":{},"sourceType":"script"}